import{d as Ha,r as j,c as _,n as ua,a as U,b as l,o as B,s as Xe,t as ve,g as dt,e as kt,f as za,w as ce,h as N,i as Fe,j as de,m as Ut,k as nt,l as G,F as xe,p as Se,q as da,u as F,T as Ka,v as Xa,x as ot,y as St,z as ba,A as ie,B as R,C as M,Y as Ft,D as Ye,G as _t,V as Wt,E as ne,H as Ht,I as lt,J as ue,K as Ae,L as Ya,M as xt,N as zt,O as ht,P as Rt,S as Kt,_ as Ja,Q as Nt,R as Qa,U as Za,W as ca,X as er,Z as tr,$ as ar}from"./index-i625Vm2e.js";const rr=Ha("user",()=>{const e=j([]),a=j([]),t=j(!1),o=j(null),r=()=>{e.value.length===0&&(e.value=[{id:"1",username:"admin",password:"admin123",email:"admin@company.com",fullName:"System Administrator",phone:"+84123456789",type:"local",role:"Admin",groupIds:["1"],isActive:!0,lastLogin:new Date(Date.now()-2*60*60*1e3),createdAt:new Date(Date.now()-30*24*60*60*1e3),createdBy:"system"},{id:"2",username:"designer1",password:"designer123",email:"designer@company.com",fullName:"John Designer",phone:"+84987654321",type:"local",role:"Dashboard Designer",groupIds:["2"],isActive:!0,lastLogin:new Date(Date.now()-1*60*60*1e3),createdAt:new Date(Date.now()-15*24*60*60*1e3),createdBy:"admin"},{id:"3",username:"viewer1",email:"viewer@company.com",fullName:"Jane Viewer",type:"sso",role:"Dashboard Viewer",groupIds:["3"],isActive:!0,lastLogin:new Date(Date.now()-30*60*1e3),createdAt:new Date(Date.now()-7*24*60*60*1e3),createdBy:"admin"}]),a.value.length===0&&(a.value=[{id:"1",name:"Hà Nội",description:"Nhân viên Hà Nội",userIds:["1"],isActive:!0,createdAt:new Date(Date.now()-30*24*60*60*1e3),createdBy:"system"},{id:"2",name:"Hồ Chí Minh",description:"Nhân viên HCM",userIds:["2"],isActive:!0,createdAt:new Date(Date.now()-20*24*60*60*1e3),createdBy:"admin"},{id:"3",name:"Đà Nẵng",description:"Nhân viên Đà Nẵng",userIds:["3"],isActive:!0,createdAt:new Date(Date.now()-10*24*60*60*1e3),createdBy:"admin"}])},f=_(()=>e.value.filter(v=>v.isActive)),s=_(()=>a.value.filter(v=>v.isActive)),n=_(()=>v=>e.value.filter(m=>m.role===v)),u=_(()=>v=>e.value.filter(m=>m.groupIds.includes(v))),p=_(()=>v=>{const m=e.value.find(d=>d.id===v);return m?a.value.filter(d=>m.groupIds.includes(d.id)):[]}),c=async v=>{t.value=!0,o.value=null;try{if(e.value.some(d=>d.username===v.username))throw new Error("Username already exists");if(v.email&&e.value.some(d=>d.email===v.email))throw new Error("Email already exists");const m={id:ua(),username:v.username,password:v.password,phone:v.phone,email:v.email,fullName:v.fullName,type:v.type,role:v.role,groupIds:v.groupIds||[],isActive:v.isActive??!0,createdAt:new Date,createdBy:"current-user"};return e.value.push(m),$(),m}catch(m){throw o.value=m instanceof Error?m.message:"Failed to create user",m}finally{t.value=!1}},x=async(v,m)=>{t.value=!0,o.value=null;try{const d=e.value.findIndex(E=>E.id===v);if(d===-1)throw new Error("User not found");if(m.username&&m.username!==e.value[d].username&&e.value.some(E=>E.username===m.username))throw new Error("Username already exists");if(m.email&&m.email!==e.value[d].email&&e.value.some(E=>E.email===m.email))throw new Error("Email already exists");const L={...e.value[d],...m,updatedAt:new Date};return e.value[d]=L,$(),L}catch(d){throw o.value=d instanceof Error?d.message:"Failed to update user",d}finally{t.value=!1}},A=async v=>{t.value=!0,o.value=null;try{const m=e.value.findIndex(d=>d.id===v);if(m===-1)throw new Error("User not found");e.value.splice(m,1),a.value.forEach(d=>{d.userIds=d.userIds.filter(L=>L!==v)}),$()}catch(m){throw o.value=m instanceof Error?m.message:"Failed to delete user",m}finally{t.value=!1}},O=async v=>{t.value=!0,o.value=null;try{if(a.value.some(d=>d.name===v.name))throw new Error("Group name already exists");const m={id:ua(),name:v.name,description:v.description,userIds:v.userIds||[],isActive:v.isActive??!0,createdAt:new Date,createdBy:"current-user"};return a.value.push(m),$(),m}catch(m){throw o.value=m instanceof Error?m.message:"Failed to create group",m}finally{t.value=!1}},T=async(v,m)=>{t.value=!0,o.value=null;try{const d=a.value.findIndex(E=>E.id===v);if(d===-1)throw new Error("Group not found");if(m.name&&m.name!==a.value[d].name&&a.value.some(E=>E.name===m.name))throw new Error("Group name already exists");const L={...a.value[d],...m,updatedAt:new Date};return a.value[d]=L,$(),L}catch(d){throw o.value=d instanceof Error?d.message:"Failed to update group",d}finally{t.value=!1}},C=async v=>{t.value=!0,o.value=null;try{const m=a.value.findIndex(d=>d.id===v);if(m===-1)throw new Error("Group not found");a.value.splice(m,1),e.value.forEach(d=>{d.groupIds=d.groupIds.filter(L=>L!==v)}),$()}catch(m){throw o.value=m instanceof Error?m.message:"Failed to delete group",m}finally{t.value=!1}},P=async(v,m)=>{const d=e.value.find(E=>E.id===v),L=a.value.find(E=>E.id===m);if(!d||!L)throw new Error("User or group not found");d.groupIds.includes(m)||d.groupIds.push(m),L.userIds.includes(v)||L.userIds.push(v),$()},S=async(v,m)=>{const d=e.value.find(E=>E.id===v),L=a.value.find(E=>E.id===m);if(!d||!L)throw new Error("User or group not found");d.groupIds=d.groupIds.filter(E=>E!==m),L.userIds=L.userIds.filter(E=>E!==v),$()},$=()=>{localStorage.setItem("bi-users",JSON.stringify(e.value)),localStorage.setItem("bi-groups",JSON.stringify(a.value))},g=()=>{try{const v=localStorage.getItem("bi-users"),m=localStorage.getItem("bi-groups");v&&(e.value=JSON.parse(v).map(d=>({...d,createdAt:new Date(d.createdAt),updatedAt:d.updatedAt?new Date(d.updatedAt):void 0,lastLogin:d.lastLogin?new Date(d.lastLogin):void 0}))),m&&(a.value=JSON.parse(m).map(d=>({...d,createdAt:new Date(d.createdAt),updatedAt:d.updatedAt?new Date(d.updatedAt):void 0})))}catch(v){console.error("Failed to load user data from storage:",v)}};return g(),r(),{users:e,groups:a,loading:t,error:o,activeUsers:f,activeGroups:s,getUsersByRole:n,getUsersByGroup:u,getGroupsByUser:p,createUser:c,updateUser:x,deleteUser:A,createGroup:O,updateGroup:T,deleteGroup:C,addUserToGroup:P,removeUserFromGroup:S,saveToStorage:$,loadFromStorage:g}});function sr(e,a){return B(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})])}function ke(e){return e==null}function lr(e,a,t){const{object:o,valueProp:r,mode:f}=ve(e),s=dt().proxy,n=t.iv,u=(x,A=!0)=>{n.value=c(x);const O=p(x);a.emit("change",O,s),A&&(a.emit("input",O),a.emit("update:modelValue",O))},p=x=>o.value||ke(x)?x:Array.isArray(x)?x.map(A=>A[r.value]):x[r.value],c=x=>ke(x)?f.value==="single"?{}:[]:x;return{update:u}}function re(e){return Xa(()=>({get:e,set:()=>{}}))}function nr(e,a){const{value:t,modelValue:o,mode:r,valueProp:f}=ve(e),s=j(r.value!=="single"?[]:{}),n=re(()=>o.value!==void 0?o.value:t.value),u=_(()=>r.value==="single"?s.value[f.value]:s.value.map(c=>c[f.value])),p=re(()=>r.value!=="single"?s.value.map(c=>c[f.value]).join(","):s.value[f.value]);return{iv:s,internalValue:s,ev:n,externalValue:n,textValue:p,plainValue:u}}function or(e,a,t){const{regex:o}=ve(e),r=dt().proxy,f=t.isOpen,s=t.open,n=j(null),u=()=>{n.value=""},p=A=>{n.value=A.target.value},c=A=>{if(o.value){let O=o.value;typeof O=="string"&&(O=new RegExp(O)),A.key.match(O)||A.preventDefault()}},x=A=>{if(o.value){let T=(A.clipboardData||window.clipboardData).getData("Text"),C=o.value;typeof C=="string"&&(C=new RegExp(C)),T.split("").every(P=>!!P.match(C))||A.preventDefault()}a.emit("paste",A,r)};return ce(n,A=>{!f.value&&A&&s(),a.emit("search-change",A,r)}),{search:n,clearSearch:u,handleSearchInput:p,handleKeypress:c,handlePaste:x}}function ir(e,a,t){const{groupSelect:o,mode:r,groups:f,disabledProp:s}=ve(e),n=j(null),u=c=>{c===void 0||c!==null&&c[s.value]||f.value&&c&&c.group&&(r.value==="single"||!o.value)||(n.value=c)};return{pointer:n,setPointer:u,clearPointer:()=>{u(null)}}}function jt(e,a=!0){return a?String(e).toLowerCase().trim():String(e).toLowerCase().normalize("NFD").trim().replace(/æ/g,"ae").replace(/œ/g,"oe").replace(/ø/g,"o").replace(new RegExp("\\p{Diacritic}","gu"),"")}function ur(e){return Object.prototype.toString.call(e)==="[object Object]"}function dr(e,a){if(e.length!==a.length)return!1;const t=a.slice().sort();return e.slice().sort().every(function(o,r){return o===t[r]})}const wa=(e,a)=>{if(e===a)return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;const t=Object.keys(e),o=Object.keys(a);if(t.length!==o.length)return!1;for(let r of t)if(!o.includes(r)||!wa(e[r],a[r]))return!1;return!0};function cr(e,a,t){const{options:o,mode:r,trackBy:f,limit:s,hideSelected:n,createTag:u,createOption:p,label:c,appendNewTag:x,appendNewOption:A,multipleLabel:O,object:T,loading:C,delay:P,resolveOnLoad:S,minChars:$,filterResults:g,clearOnSearch:v,clearOnSelect:m,valueProp:d,allowAbsent:L,groupLabel:E,canDeselect:V,max:W,strict:K,closeOnSelect:D,closeOnDeselect:Q,groups:te,reverse:oe,infinite:ee,groupOptions:X,groupHideEmpty:me,groupSelect:z,onCreate:ae,disabledProp:Y,searchStart:le,searchFilter:fe}=ve(e),J=dt().proxy,q=t.iv,y=t.ev,I=t.search,w=t.clearSearch,b=t.update,k=t.pointer,Z=t.setPointer,De=t.clearPointer,ct=t.focus,Et=t.deactivate,Be=t.close,ft=t.localize,Me=j([]),ge=j([]),ye=j(!1),be=j(null),Ee=j(ee.value&&s.value===-1?10:s.value),pt=_({get:()=>ge.value,set:i=>ge.value=i}),tt=re(()=>u.value||p.value||!1),at=re(()=>x.value!==void 0?x.value:A.value!==void 0?A.value:!0),we=_(()=>{if(te.value){let i=Ne.value||[],h=[];return i.forEach(H=>{Mt(H[X.value]).forEach(se=>{h.push(Object.assign({},se,H[Y.value]?{[Y.value]:!0}:{}))})}),h}else{let i=Mt(ge.value||[]);return Me.value.length&&(i=i.concat(Me.value)),i}}),rt=_(()=>{let i=we.value;return oe.value&&(i=i.reverse()),He.value.length&&(i=He.value.concat(i)),Bt(i)}),qe=_(()=>{let i=rt.value;return Ee.value>0&&(i=i.slice(0,Ee.value)),i}),Ne=_(()=>{if(!te.value)return[];let i=[],h=ge.value||[];return Me.value.length&&i.push({[E.value]:" ",[X.value]:[...Me.value],__CREATE__:!0}),i.concat(h)}),Ea=_(()=>{let i=[...Ne.value].map(h=>({...h}));return He.value.length&&(i[0]&&i[0].__CREATE__?i[0][X.value]=[...He.value,...i[0][X.value]]:i=[{[E.value]:" ",[X.value]:[...He.value],__CREATE__:!0}].concat(i)),i}),Pt=_(()=>{if(!te.value)return[];let i=Ea.value;return Fa((i||[]).map((h,H)=>{const se=Mt(h[X.value]);return{...h,index:H,group:!0,[X.value]:Bt(se,!1).map(Ge=>Object.assign({},Ge,h[Y.value]?{[Y.value]:!0}:{})),__VISIBLE__:Bt(se).map(Ge=>Object.assign({},Ge,h[Y.value]?{[Y.value]:!0}:{}))}}))}),Tt=_(()=>{switch(r.value){case"single":return!ke(q.value[d.value]);case"multiple":case"tags":return!ke(q.value)&&q.value.length>0}}),Pa=_(()=>O.value!==void 0?O.value(q.value,J):q.value&&q.value.length>1?`${q.value.length} options selected`:"1 option selected"),Ta=re(()=>!we.value.length&&!ye.value&&!He.value.length),$a=re(()=>we.value.length>0&&qe.value.length==0&&(I.value&&te.value||!te.value)),He=_(()=>tt.value===!1||!I.value?[]:Na(I.value)!==-1?[]:[{[d.value]:I.value,[Ve.value[0]]:I.value,[c.value]:I.value,__CREATE__:!0}]),Ve=_(()=>f.value?Array.isArray(f.value)?f.value:[f.value]:[c.value]),Ia=re(()=>{switch(r.value){case"single":return null;case"multiple":case"tags":return[]}}),Da=re(()=>C.value||ye.value),ze=i=>{switch(typeof i!="object"&&(i=Te(i)),r.value){case"single":b(i);break;case"multiple":case"tags":b(q.value.concat(i));break}a.emit("select",aa(i),i,J)},Ke=i=>{switch(typeof i!="object"&&(i=Te(i)),r.value){case"single":sa();break;case"tags":case"multiple":b(Array.isArray(i)?q.value.filter(h=>i.map(H=>H[d.value]).indexOf(h[d.value])===-1):q.value.filter(h=>h[d.value]!=i[d.value]));break}a.emit("deselect",aa(i),i,J)},aa=i=>T.value?i:i[d.value],ra=i=>{Ke(i)},Ba=(i,h)=>{if(h.button!==0){h.preventDefault();return}ra(i)},sa=()=>{b(Ia.value),a.emit("clear",J)},Pe=i=>{if(i.group!==void 0)return r.value==="single"?!1:Ra(i[X.value])&&i[X.value].length;switch(r.value){case"single":return!ke(q.value)&&(q.value[d.value]==i[d.value]||typeof q.value[d.value]=="object"&&typeof i[d.value]=="object"&&wa(q.value[d.value],i[d.value]));case"tags":case"multiple":return!ke(q.value)&&q.value.map(h=>h[d.value]).indexOf(i[d.value])!==-1}},$t=i=>i[Y.value]===!0,It=()=>W===void 0||W.value===-1||!Tt.value&&W.value>0?!1:q.value.length>=W.value,Ma=i=>{if(!$t(i)){if(ae.value&&!Pe(i)&&i.__CREATE__&&(i={...i},delete i.__CREATE__,i=ae.value(i,J),i instanceof Promise)){ye.value=!0,i.then(h=>{ye.value=!1,la(h)});return}la(i)}},la=i=>{switch(i.__CREATE__&&(i={...i},delete i.__CREATE__),r.value){case"single":if(i&&Pe(i)){V.value&&Ke(i),Q.value&&(De(),Be());return}i&&Dt(i),m.value&&w(),D.value&&(De(),Be()),i&&ze(i);break;case"multiple":if(i&&Pe(i)){Ke(i),Q.value&&(De(),Be());return}if(It()){a.emit("max",J);return}i&&(Dt(i),ze(i)),m.value&&w(),n.value&&De(),D.value&&Be();break;case"tags":if(i&&Pe(i)){Ke(i),Q.value&&(De(),Be());return}if(It()){a.emit("max",J);return}i&&Dt(i),m.value&&w(),i&&ze(i),n.value&&De(),D.value&&Be();break}D.value||ct()},qa=i=>{if(!($t(i)||r.value==="single"||!z.value)){switch(r.value){case"multiple":case"tags":ja(i[X.value])?Ke(i[X.value]):ze(i[X.value].filter(h=>q.value.map(H=>H[d.value]).indexOf(h[d.value])===-1).filter(h=>!h[Y.value]).filter((h,H)=>q.value.length+1+H<=W.value||W.value===-1)),n.value&&k.value&&Z(Pt.value.filter(h=>!h[Y.value])[k.value.index]);break}D.value&&Et()}},Dt=i=>{Te(i[d.value])===void 0&&tt.value&&(a.emit("tag",i[d.value],J),a.emit("option",i[d.value],J),a.emit("create",i[d.value],J),at.value&&Ga(i),w())},Ua=()=>{r.value!=="single"&&ze(qe.value.filter(i=>!i.disabled&&!Pe(i)))},ja=i=>i.find(h=>!Pe(h)&&!h[Y.value])===void 0,Ra=i=>i.find(h=>!Pe(h))===void 0,Te=i=>we.value[we.value.map(h=>String(h[d.value])).indexOf(String(i))],Na=i=>we.value.findIndex(h=>Ve.value.some(H=>(parseInt(h[H])==h[H]?parseInt(h[H]):h[H])===(parseInt(i)==i?parseInt(i):i))),Va=i=>["tags","multiple"].indexOf(r.value)!==-1&&n.value&&Pe(i),Ga=i=>{Me.value.push(i)},Fa=i=>me.value?i.filter(h=>I.value?h.__VISIBLE__.length:h[X.value].length):i.filter(h=>I.value?h.__VISIBLE__.length:!0),Bt=(i,h=!0)=>{let H=i;if(I.value&&g.value){let se=fe.value;se||(se=(Ge,oa,lo)=>Ve.value.some(Wa=>{let ia=jt(ft(Ge[Wa]),K.value);return le.value?ia.startsWith(jt(oa,K.value)):ia.indexOf(jt(oa,K.value))!==-1})),H=H.filter(Ge=>se(Ge,I.value,J))}return n.value&&h&&(H=H.filter(se=>!Va(se))),H},Mt=i=>{let h=i;return ur(h)&&(h=Object.keys(h).map(H=>{let se=h[H];return{[d.value]:H,[Ve.value[0]]:se,[c.value]:se}})),h&&Array.isArray(h)?h=h.map(H=>typeof H=="object"?H:{[d.value]:H,[Ve.value[0]]:H,[c.value]:H}):h=[],h},vt=()=>{ke(y.value)||(q.value=gt(y.value))},mt=i=>(ye.value=!0,new Promise((h,H)=>{o.value(I.value,J).then(se=>{ge.value=se||[],typeof i=="function"&&i(se),ye.value=!1}).catch(se=>{console.error(se),ge.value=[],ye.value=!1}).finally(()=>{h()})})),qt=()=>{if(Tt.value)if(r.value==="single"){let i=Te(q.value[d.value]);if(i!==void 0){let h=i[c.value];q.value[c.value]=h,T.value&&(y.value[c.value]=h)}}else q.value.forEach((i,h)=>{let H=Te(q.value[h][d.value]);if(H!==void 0){let se=H[c.value];q.value[h][c.value]=se,T.value&&(y.value[h][c.value]=se)}})},_a=i=>{mt(i)},gt=i=>ke(i)?r.value==="single"?{}:[]:T.value?i:r.value==="single"?Te(i)||(L.value?{[c.value]:i,[d.value]:i,[Ve.value[0]]:i}:{}):i.filter(h=>!!Te(h)||L.value).map(h=>Te(h)||{[c.value]:h,[d.value]:h,[Ve.value[0]]:h}),na=()=>{be.value=ce(I,i=>{i.length<$.value||!i&&$.value!==0||(ye.value=!0,v.value&&(ge.value=[]),setTimeout(()=>{i==I.value&&o.value(I.value,J).then(h=>{(i==I.value||!I.value)&&(ge.value=h,k.value=qe.value.filter(H=>H[Y.value]!==!0)[0]||null,ye.value=!1)}).catch(h=>{console.error(h)})},P.value))},{flush:"sync"})};if(r.value!=="single"&&!ke(y.value)&&!Array.isArray(y.value))throw new Error(`v-model must be an array when using "${r.value}" mode`);return o&&typeof o.value=="function"?S.value?mt(vt):T.value==!0&&vt():(ge.value=o.value,vt()),P.value>-1&&na(),ce(P,(i,h)=>{be.value&&be.value(),i>=0&&na()}),ce(y,i=>{if(ke(i)){b(gt(i),!1);return}switch(r.value){case"single":(T.value?i[d.value]!=q.value[d.value]:i!=q.value[d.value])&&b(gt(i),!1);break;case"multiple":case"tags":dr(T.value?i.map(h=>h[d.value]):i,q.value.map(h=>h[d.value]))||b(gt(i),!1);break}},{deep:!0}),ce(o,(i,h)=>{typeof e.options=="function"?S.value&&(!h||i&&i.toString()!==h.toString())&&mt():(ge.value=e.options,Object.keys(q.value).length||vt(),qt())}),ce(c,qt),ce(s,(i,h)=>{Ee.value=ee.value&&i===-1?10:i}),{resolvedOptions:pt,pfo:rt,fo:qe,filteredOptions:qe,hasSelected:Tt,multipleLabelText:Pa,eo:we,extendedOptions:we,eg:Ne,extendedGroups:Ne,fg:Pt,filteredGroups:Pt,noOptions:Ta,noResults:$a,resolving:ye,busy:Da,offset:Ee,select:ze,deselect:Ke,remove:ra,selectAll:Ua,clear:sa,isSelected:Pe,isDisabled:$t,isMax:It,getOption:Te,handleOptionClick:Ma,handleGroupClick:qa,handleTagRemove:Ba,refreshOptions:_a,resolveOptions:mt,refreshLabels:qt}}function fr(e,a,t){const{valueProp:o,showOptions:r,searchable:f,groupLabel:s,groups:n,mode:u,groupSelect:p,disabledProp:c,groupOptions:x}=ve(e),A=t.fo,O=t.fg,T=t.handleOptionClick,C=t.handleGroupClick,P=t.search,S=t.pointer,$=t.setPointer,g=t.clearPointer,v=t.multiselect,m=t.isOpen,d=_(()=>A.value.filter(y=>!y[c.value])),L=_(()=>O.value.filter(y=>!y[c.value])),E=re(()=>u.value!=="single"&&p.value),V=re(()=>S.value&&S.value.group),W=_(()=>J(S.value)),K=_(()=>{const y=V.value?S.value:J(S.value),I=L.value.map(b=>b[s.value]).indexOf(y[s.value]);let w=L.value[I-1];return w===void 0&&(w=Q.value),w}),D=_(()=>{let y=L.value.map(I=>I.label).indexOf(V.value?S.value[s.value]:J(S.value)[s.value])+1;return L.value.length<=y&&(y=0),L.value[y]}),Q=_(()=>[...L.value].slice(-1)[0]),te=_(()=>S.value.__VISIBLE__.filter(y=>!y[c.value])[0]),oe=_(()=>{const y=W.value.__VISIBLE__.filter(I=>!I[c.value]);return y[y.map(I=>I[o.value]).indexOf(S.value[o.value])-1]}),ee=_(()=>{const y=J(S.value).__VISIBLE__.filter(I=>!I[c.value]);return y[y.map(I=>I[o.value]).indexOf(S.value[o.value])+1]}),X=_(()=>[...K.value.__VISIBLE__.filter(y=>!y[c.value])].slice(-1)[0]),me=_(()=>[...Q.value.__VISIBLE__.filter(y=>!y[c.value])].slice(-1)[0]),z=y=>S.value&&(!y.group&&S.value[o.value]===y[o.value]||y.group!==void 0&&S.value[s.value]===y[s.value])?!0:void 0,ae=()=>{$(d.value[0]||null)},Y=()=>{!S.value||S.value[c.value]===!0||(V.value?C(S.value):T(S.value))},le=()=>{if(S.value===null)$((n.value&&E.value?L.value[0].__CREATE__?d.value[0]:L.value[0]:d.value[0])||null);else if(n.value&&E.value){let y=V.value?te.value:ee.value;y===void 0&&(y=D.value,y.__CREATE__&&(y=y[x.value][0])),$(y||null)}else{let y=d.value.map(I=>I[o.value]).indexOf(S.value[o.value])+1;d.value.length<=y&&(y=0),$(d.value[y]||null)}ot(()=>{q()})},fe=()=>{if(S.value===null){let y=d.value[d.value.length-1];n.value&&E.value&&(y=me.value,y===void 0&&(y=Q.value)),$(y||null)}else if(n.value&&E.value){let y=V.value?X.value:oe.value;y===void 0&&(y=V.value?K.value:W.value,y.__CREATE__&&(y=X.value,y===void 0&&(y=K.value))),$(y||null)}else{let y=d.value.map(I=>I[o.value]).indexOf(S.value[o.value])-1;y<0&&(y=d.value.length-1),$(d.value[y]||null)}ot(()=>{q()})},J=y=>L.value.find(I=>I.__VISIBLE__.map(w=>w[o.value]).indexOf(y[o.value])!==-1),q=()=>{let y=v.value.querySelector("[data-pointed]");if(!y)return;let I=y.parentElement.parentElement;n.value&&(I=V.value?y.parentElement.parentElement.parentElement:y.parentElement.parentElement.parentElement.parentElement),y.offsetTop+y.offsetHeight>I.clientHeight+I.scrollTop&&(I.scrollTop=y.offsetTop+y.offsetHeight-I.clientHeight),y.offsetTop<I.scrollTop&&(I.scrollTop=y.offsetTop)};return ce(P,y=>{f.value&&(y.length&&r.value?ae():g())}),ce(m,y=>{if(y&&v&&v.value){let I=v.value.querySelectorAll("[data-selected]")[0];if(!I)return;let w=I.parentElement.parentElement;ot(()=>{w.scrollTop=I.offsetTop})}}),{pointer:S,canPointGroups:E,isPointed:z,setPointerFirst:ae,selectPointer:Y,forwardPointer:le,backwardPointer:fe}}function pe(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var a=e.ownerDocument;return a&&a.defaultView||window}return e}function We(e){var a=pe(e).Element;return e instanceof a||e instanceof Element}function he(e){var a=pe(e).HTMLElement;return e instanceof a||e instanceof HTMLElement}function Xt(e){if(typeof ShadowRoot>"u")return!1;var a=pe(e).ShadowRoot;return e instanceof a||e instanceof ShadowRoot}var _e=Math.max,Ot=Math.min,Je=Math.round;function Vt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(a){return a.brand+"/"+a.version}).join(" "):navigator.userAgent}function xa(){return!/^((?!chrome|android).)*safari/i.test(Vt())}function Qe(e,a,t){a===void 0&&(a=!1),t===void 0&&(t=!1);var o=e.getBoundingClientRect(),r=1,f=1;a&&he(e)&&(r=e.offsetWidth>0&&Je(o.width)/e.offsetWidth||1,f=e.offsetHeight>0&&Je(o.height)/e.offsetHeight||1);var s=We(e)?pe(e):window,n=s.visualViewport,u=!xa()&&t,p=(o.left+(u&&n?n.offsetLeft:0))/r,c=(o.top+(u&&n?n.offsetTop:0))/f,x=o.width/r,A=o.height/f;return{width:x,height:A,top:c,right:p+x,bottom:c+A,left:p,x:p,y:c}}function Yt(e){var a=pe(e),t=a.pageXOffset,o=a.pageYOffset;return{scrollLeft:t,scrollTop:o}}function pr(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function vr(e){return e===pe(e)||!he(e)?Yt(e):pr(e)}function Ce(e){return e?(e.nodeName||"").toLowerCase():null}function Re(e){return((We(e)?e.ownerDocument:e.document)||window.document).documentElement}function Jt(e){return Qe(Re(e)).left+Yt(e).scrollLeft}function Ie(e){return pe(e).getComputedStyle(e)}function Qt(e){var a=Ie(e),t=a.overflow,o=a.overflowX,r=a.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+o)}function mr(e){var a=e.getBoundingClientRect(),t=Je(a.width)/e.offsetWidth||1,o=Je(a.height)/e.offsetHeight||1;return t!==1||o!==1}function gr(e,a,t){t===void 0&&(t=!1);var o=he(a),r=he(a)&&mr(a),f=Re(a),s=Qe(e,r,t),n={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(o||!o&&!t)&&((Ce(a)!=="body"||Qt(f))&&(n=vr(a)),he(a)?(u=Qe(a,!0),u.x+=a.clientLeft,u.y+=a.clientTop):f&&(u.x=Jt(f))),{x:s.left+n.scrollLeft-u.x,y:s.top+n.scrollTop-u.y,width:s.width,height:s.height}}function Oa(e){var a=Qe(e),t=e.offsetWidth,o=e.offsetHeight;return Math.abs(a.width-t)<=1&&(t=a.width),Math.abs(a.height-o)<=1&&(o=a.height),{x:e.offsetLeft,y:e.offsetTop,width:t,height:o}}function At(e){return Ce(e)==="html"?e:e.assignedSlot||e.parentNode||(Xt(e)?e.host:null)||Re(e)}function ka(e){return["html","body","#document"].indexOf(Ce(e))>=0?e.ownerDocument.body:he(e)&&Qt(e)?e:ka(At(e))}function it(e,a){var t;a===void 0&&(a=[]);var o=ka(e),r=o===((t=e.ownerDocument)==null?void 0:t.body),f=pe(o),s=r?[f].concat(f.visualViewport||[],Qt(o)?o:[]):o,n=a.concat(s);return r?n:n.concat(it(At(s)))}function yr(e){return["table","td","th"].indexOf(Ce(e))>=0}function fa(e){return!he(e)||Ie(e).position==="fixed"?null:e.offsetParent}function hr(e){var a=/firefox/i.test(Vt()),t=/Trident/i.test(Vt());if(t&&he(e)){var o=Ie(e);if(o.position==="fixed")return null}var r=At(e);for(Xt(r)&&(r=r.host);he(r)&&["html","body"].indexOf(Ce(r))<0;){var f=Ie(r);if(f.transform!=="none"||f.perspective!=="none"||f.contain==="paint"||["transform","perspective"].indexOf(f.willChange)!==-1||a&&f.willChange==="filter"||a&&f.filter&&f.filter!=="none")return r;r=r.parentNode}return null}function Ct(e){for(var a=pe(e),t=fa(e);t&&yr(t)&&Ie(t).position==="static";)t=fa(t);return t&&(Ce(t)==="html"||Ce(t)==="body"&&Ie(t).position==="static")?a:t||hr(e)||a}var Oe="top",Le="bottom",je="right",$e="left",Zt="auto",Lt=[Oe,Le,je,$e],Ze="start",ut="end",br="clippingParents",Sa="viewport",st="popper",wr="reference",pa=Lt.reduce(function(e,a){return e.concat([a+"-"+Ze,a+"-"+ut])},[]),xr=[].concat(Lt,[Zt]).reduce(function(e,a){return e.concat([a,a+"-"+Ze,a+"-"+ut])},[]),Or="beforeRead",kr="read",Sr="afterRead",Ar="beforeMain",Cr="main",Lr="afterMain",Er="beforeWrite",Pr="write",Tr="afterWrite",$r=[Or,kr,Sr,Ar,Cr,Lr,Er,Pr,Tr];function Ir(e){var a=new Map,t=new Set,o=[];e.forEach(function(f){a.set(f.name,f)});function r(f){t.add(f.name);var s=[].concat(f.requires||[],f.requiresIfExists||[]);s.forEach(function(n){if(!t.has(n)){var u=a.get(n);u&&r(u)}}),o.push(f)}return e.forEach(function(f){t.has(f.name)||r(f)}),o}function Dr(e){var a=Ir(e);return $r.reduce(function(t,o){return t.concat(a.filter(function(r){return r.phase===o}))},[])}function Br(e){var a;return function(){return a||(a=new Promise(function(t){Promise.resolve().then(function(){a=void 0,t(e())})})),a}}function Mr(e){var a=e.reduce(function(t,o){var r=t[o.name];return t[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,t},{});return Object.keys(a).map(function(t){return a[t]})}function qr(e,a){var t=pe(e),o=Re(e),r=t.visualViewport,f=o.clientWidth,s=o.clientHeight,n=0,u=0;if(r){f=r.width,s=r.height;var p=xa();(p||!p&&a==="fixed")&&(n=r.offsetLeft,u=r.offsetTop)}return{width:f,height:s,x:n+Jt(e),y:u}}function Ur(e){var a,t=Re(e),o=Yt(e),r=(a=e.ownerDocument)==null?void 0:a.body,f=_e(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=_e(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),n=-o.scrollLeft+Jt(e),u=-o.scrollTop;return Ie(r||t).direction==="rtl"&&(n+=_e(t.clientWidth,r?r.clientWidth:0)-f),{width:f,height:s,x:n,y:u}}function jr(e,a){var t=a.getRootNode&&a.getRootNode();if(e.contains(a))return!0;if(t&&Xt(t)){var o=a;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Gt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Rr(e,a){var t=Qe(e,!1,a==="fixed");return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function va(e,a,t){return a===Sa?Gt(qr(e,t)):We(a)?Rr(a,t):Gt(Ur(Re(e)))}function Nr(e){var a=it(At(e)),t=["absolute","fixed"].indexOf(Ie(e).position)>=0,o=t&&he(e)?Ct(e):e;return We(o)?a.filter(function(r){return We(r)&&jr(r,o)&&Ce(r)!=="body"}):[]}function Vr(e,a,t,o){var r=a==="clippingParents"?Nr(e):[].concat(a),f=[].concat(r,[t]),s=f[0],n=f.reduce(function(u,p){var c=va(e,p,o);return u.top=_e(c.top,u.top),u.right=Ot(c.right,u.right),u.bottom=Ot(c.bottom,u.bottom),u.left=_e(c.left,u.left),u},va(e,s,o));return n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}function Ue(e){return e.split("-")[0]}function et(e){return e.split("-")[1]}function Aa(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ca(e){var a=e.reference,t=e.element,o=e.placement,r=o?Ue(o):null,f=o?et(o):null,s=a.x+a.width/2-t.width/2,n=a.y+a.height/2-t.height/2,u;switch(r){case Oe:u={x:s,y:a.y-t.height};break;case Le:u={x:s,y:a.y+a.height};break;case je:u={x:a.x+a.width,y:n};break;case $e:u={x:a.x-t.width,y:n};break;default:u={x:a.x,y:a.y}}var p=r?Aa(r):null;if(p!=null){var c=p==="y"?"height":"width";switch(f){case Ze:u[p]=u[p]-(a[c]/2-t[c]/2);break;case ut:u[p]=u[p]+(a[c]/2-t[c]/2);break}}return u}function La(){return{top:0,right:0,bottom:0,left:0}}function Gr(e){return Object.assign({},La(),e)}function Fr(e,a){return a.reduce(function(t,o){return t[o]=e,t},{})}function ea(e,a){a===void 0&&(a={});var t=a,o=t.placement,r=o===void 0?e.placement:o,f=t.strategy,s=f===void 0?e.strategy:f,n=t.boundary,u=n===void 0?br:n,p=t.rootBoundary,c=p===void 0?Sa:p,x=t.elementContext,A=x===void 0?st:x,O=t.altBoundary,T=O===void 0?!1:O,C=t.padding,P=C===void 0?0:C,S=Gr(typeof P!="number"?P:Fr(P,Lt)),$=A===st?wr:st,g=e.rects.popper,v=e.elements[T?$:A],m=Vr(We(v)?v:v.contextElement||Re(e.elements.popper),u,c,s),d=Qe(e.elements.reference),L=Ca({reference:d,element:g,placement:r}),E=Gt(Object.assign({},g,L)),V=A===st?E:d,W={top:m.top-V.top+S.top,bottom:V.bottom-m.bottom+S.bottom,left:m.left-V.left+S.left,right:V.right-m.right+S.right},K=e.modifiersData.offset;if(A===st&&K){var D=K[r];Object.keys(W).forEach(function(Q){var te=[je,Le].indexOf(Q)>=0?1:-1,oe=[Oe,Le].indexOf(Q)>=0?"y":"x";W[Q]+=D[oe]*te})}return W}var ma={placement:"bottom",modifiers:[],strategy:"absolute"};function ga(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return!a.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function _r(e){e===void 0&&(e={});var a=e,t=a.defaultModifiers,o=t===void 0?[]:t,r=a.defaultOptions,f=r===void 0?ma:r;return function(n,u,p){p===void 0&&(p=f);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},ma,f),modifiersData:{},elements:{reference:n,popper:u},attributes:{},styles:{}},x=[],A=!1,O={state:c,setOptions:function(S){var $=typeof S=="function"?S(c.options):S;C(),c.options=Object.assign({},f,c.options,$),c.scrollParents={reference:We(n)?it(n):n.contextElement?it(n.contextElement):[],popper:it(u)};var g=Dr(Mr([].concat(o,c.options.modifiers)));return c.orderedModifiers=g.filter(function(v){return v.enabled}),T(),O.update()},forceUpdate:function(){if(!A){var S=c.elements,$=S.reference,g=S.popper;if(ga($,g)){c.rects={reference:gr($,Ct(g),c.options.strategy==="fixed"),popper:Oa(g)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(W){return c.modifiersData[W.name]=Object.assign({},W.data)});for(var v=0;v<c.orderedModifiers.length;v++){if(c.reset===!0){c.reset=!1,v=-1;continue}var m=c.orderedModifiers[v],d=m.fn,L=m.options,E=L===void 0?{}:L,V=m.name;typeof d=="function"&&(c=d({state:c,options:E,name:V,instance:O})||c)}}}},update:Br(function(){return new Promise(function(P){O.forceUpdate(),P(c)})}),destroy:function(){C(),A=!0}};if(!ga(n,u))return O;O.setOptions(p).then(function(P){!A&&p.onFirstUpdate&&p.onFirstUpdate(P)});function T(){c.orderedModifiers.forEach(function(P){var S=P.name,$=P.options,g=$===void 0?{}:$,v=P.effect;if(typeof v=="function"){var m=v({state:c,name:S,instance:O,options:g}),d=function(){};x.push(m||d)}})}function C(){x.forEach(function(P){return P()}),x=[]}return O}}var yt={passive:!0};function Wr(e){var a=e.state,t=e.instance,o=e.options,r=o.scroll,f=r===void 0?!0:r,s=o.resize,n=s===void 0?!0:s,u=pe(a.elements.popper),p=[].concat(a.scrollParents.reference,a.scrollParents.popper);return f&&p.forEach(function(c){c.addEventListener("scroll",t.update,yt)}),n&&u.addEventListener("resize",t.update,yt),function(){f&&p.forEach(function(c){c.removeEventListener("scroll",t.update,yt)}),n&&u.removeEventListener("resize",t.update,yt)}}var Hr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Wr,data:{}};function zr(e){var a=e.state,t=e.name;a.modifiersData[t]=Ca({reference:a.rects.reference,element:a.rects.popper,placement:a.placement})}var Kr={name:"popperOffsets",enabled:!0,phase:"read",fn:zr,data:{}},Xr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Yr(e,a){var t=e.x,o=e.y,r=a.devicePixelRatio||1;return{x:Je(t*r)/r||0,y:Je(o*r)/r||0}}function ya(e){var a,t=e.popper,o=e.popperRect,r=e.placement,f=e.variation,s=e.offsets,n=e.position,u=e.gpuAcceleration,p=e.adaptive,c=e.roundOffsets,x=e.isFixed,A=s.x,O=A===void 0?0:A,T=s.y,C=T===void 0?0:T,P=typeof c=="function"?c({x:O,y:C}):{x:O,y:C};O=P.x,C=P.y;var S=s.hasOwnProperty("x"),$=s.hasOwnProperty("y"),g=$e,v=Oe,m=window;if(p){var d=Ct(t),L="clientHeight",E="clientWidth";if(d===pe(t)&&(d=Re(t),Ie(d).position!=="static"&&n==="absolute"&&(L="scrollHeight",E="scrollWidth")),d=d,r===Oe||(r===$e||r===je)&&f===ut){v=Le;var V=x&&d===m&&m.visualViewport?m.visualViewport.height:d[L];C-=V-o.height,C*=u?1:-1}if(r===$e||(r===Oe||r===Le)&&f===ut){g=je;var W=x&&d===m&&m.visualViewport?m.visualViewport.width:d[E];O-=W-o.width,O*=u?1:-1}}var K=Object.assign({position:n},p&&Xr),D=c===!0?Yr({x:O,y:C},pe(t)):{x:O,y:C};if(O=D.x,C=D.y,u){var Q;return Object.assign({},K,(Q={},Q[v]=$?"0":"",Q[g]=S?"0":"",Q.transform=(m.devicePixelRatio||1)<=1?"translate("+O+"px, "+C+"px)":"translate3d("+O+"px, "+C+"px, 0)",Q))}return Object.assign({},K,(a={},a[v]=$?C+"px":"",a[g]=S?O+"px":"",a.transform="",a))}function Jr(e){var a=e.state,t=e.options,o=t.gpuAcceleration,r=o===void 0?!0:o,f=t.adaptive,s=f===void 0?!0:f,n=t.roundOffsets,u=n===void 0?!0:n,p={placement:Ue(a.placement),variation:et(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:r,isFixed:a.options.strategy==="fixed"};a.modifiersData.popperOffsets!=null&&(a.styles.popper=Object.assign({},a.styles.popper,ya(Object.assign({},p,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:s,roundOffsets:u})))),a.modifiersData.arrow!=null&&(a.styles.arrow=Object.assign({},a.styles.arrow,ya(Object.assign({},p,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})}var Qr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Jr,data:{}};function Zr(e){var a=e.state;Object.keys(a.elements).forEach(function(t){var o=a.styles[t]||{},r=a.attributes[t]||{},f=a.elements[t];!he(f)||!Ce(f)||(Object.assign(f.style,o),Object.keys(r).forEach(function(s){var n=r[s];n===!1?f.removeAttribute(s):f.setAttribute(s,n===!0?"":n)}))})}function es(e){var a=e.state,t={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,t.popper),a.styles=t,a.elements.arrow&&Object.assign(a.elements.arrow.style,t.arrow),function(){Object.keys(a.elements).forEach(function(o){var r=a.elements[o],f=a.attributes[o]||{},s=Object.keys(a.styles.hasOwnProperty(o)?a.styles[o]:t[o]),n=s.reduce(function(u,p){return u[p]="",u},{});!he(r)||!Ce(r)||(Object.assign(r.style,n),Object.keys(f).forEach(function(u){r.removeAttribute(u)}))})}}var ts={name:"applyStyles",enabled:!0,phase:"write",fn:Zr,effect:es,requires:["computeStyles"]},as=[Hr,Kr,Qr,ts],rs=_r({defaultModifiers:as});function ss(e){return e==="x"?"y":"x"}function bt(e,a,t){return _e(e,Ot(a,t))}function ls(e,a,t){var o=bt(e,a,t);return o>t?t:o}function ns(e){var a=e.state,t=e.options,o=e.name,r=t.mainAxis,f=r===void 0?!0:r,s=t.altAxis,n=s===void 0?!1:s,u=t.boundary,p=t.rootBoundary,c=t.altBoundary,x=t.padding,A=t.tether,O=A===void 0?!0:A,T=t.tetherOffset,C=T===void 0?0:T,P=ea(a,{boundary:u,rootBoundary:p,padding:x,altBoundary:c}),S=Ue(a.placement),$=et(a.placement),g=!$,v=Aa(S),m=ss(v),d=a.modifiersData.popperOffsets,L=a.rects.reference,E=a.rects.popper,V=typeof C=="function"?C(Object.assign({},a.rects,{placement:a.placement})):C,W=typeof V=="number"?{mainAxis:V,altAxis:V}:Object.assign({mainAxis:0,altAxis:0},V),K=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null,D={x:0,y:0};if(d){if(f){var Q,te=v==="y"?Oe:$e,oe=v==="y"?Le:je,ee=v==="y"?"height":"width",X=d[v],me=X+P[te],z=X-P[oe],ae=O?-E[ee]/2:0,Y=$===Ze?L[ee]:E[ee],le=$===Ze?-E[ee]:-L[ee],fe=a.elements.arrow,J=O&&fe?Oa(fe):{width:0,height:0},q=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:La(),y=q[te],I=q[oe],w=bt(0,L[ee],J[ee]),b=g?L[ee]/2-ae-w-y-W.mainAxis:Y-w-y-W.mainAxis,k=g?-L[ee]/2+ae+w+I+W.mainAxis:le+w+I+W.mainAxis,Z=a.elements.arrow&&Ct(a.elements.arrow),De=Z?v==="y"?Z.clientTop||0:Z.clientLeft||0:0,ct=(Q=K==null?void 0:K[v])!=null?Q:0,Et=X+b-ct-De,Be=X+k-ct,ft=bt(O?Ot(me,Et):me,X,O?_e(z,Be):z);d[v]=ft,D[v]=ft-X}if(n){var Me,ge=v==="x"?Oe:$e,ye=v==="x"?Le:je,be=d[m],Ee=m==="y"?"height":"width",pt=be+P[ge],tt=be-P[ye],at=[Oe,$e].indexOf(S)!==-1,we=(Me=K==null?void 0:K[m])!=null?Me:0,rt=at?pt:be-L[Ee]-E[Ee]-we+W.altAxis,qe=at?be+L[Ee]+E[Ee]-we-W.altAxis:tt,Ne=O&&at?ls(rt,be,qe):bt(O?rt:pt,be,O?qe:tt);d[m]=Ne,D[m]=Ne-be}a.modifiersData[o]=D}}var os={name:"preventOverflow",enabled:!0,phase:"main",fn:ns,requiresIfExists:["offset"]},is={left:"right",right:"left",bottom:"top",top:"bottom"};function wt(e){return e.replace(/left|right|bottom|top/g,function(a){return is[a]})}var us={start:"end",end:"start"};function ha(e){return e.replace(/start|end/g,function(a){return us[a]})}function ds(e,a){a===void 0&&(a={});var t=a,o=t.placement,r=t.boundary,f=t.rootBoundary,s=t.padding,n=t.flipVariations,u=t.allowedAutoPlacements,p=u===void 0?xr:u,c=et(o),x=c?n?pa:pa.filter(function(T){return et(T)===c}):Lt,A=x.filter(function(T){return p.indexOf(T)>=0});A.length===0&&(A=x);var O=A.reduce(function(T,C){return T[C]=ea(e,{placement:C,boundary:r,rootBoundary:f,padding:s})[Ue(C)],T},{});return Object.keys(O).sort(function(T,C){return O[T]-O[C]})}function cs(e){if(Ue(e)===Zt)return[];var a=wt(e);return[ha(e),a,ha(a)]}function fs(e){var a=e.state,t=e.options,o=e.name;if(!a.modifiersData[o]._skip){for(var r=t.mainAxis,f=r===void 0?!0:r,s=t.altAxis,n=s===void 0?!0:s,u=t.fallbackPlacements,p=t.padding,c=t.boundary,x=t.rootBoundary,A=t.altBoundary,O=t.flipVariations,T=O===void 0?!0:O,C=t.allowedAutoPlacements,P=a.options.placement,S=Ue(P),$=S===P,g=u||($||!T?[wt(P)]:cs(P)),v=[P].concat(g).reduce(function(J,q){return J.concat(Ue(q)===Zt?ds(a,{placement:q,boundary:c,rootBoundary:x,padding:p,flipVariations:T,allowedAutoPlacements:C}):q)},[]),m=a.rects.reference,d=a.rects.popper,L=new Map,E=!0,V=v[0],W=0;W<v.length;W++){var K=v[W],D=Ue(K),Q=et(K)===Ze,te=[Oe,Le].indexOf(D)>=0,oe=te?"width":"height",ee=ea(a,{placement:K,boundary:c,rootBoundary:x,altBoundary:A,padding:p}),X=te?Q?je:$e:Q?Le:Oe;m[oe]>d[oe]&&(X=wt(X));var me=wt(X),z=[];if(f&&z.push(ee[D]<=0),n&&z.push(ee[X]<=0,ee[me]<=0),z.every(function(J){return J})){V=K,E=!1;break}L.set(K,z)}if(E)for(var ae=T?3:1,Y=function(q){var y=v.find(function(I){var w=L.get(I);if(w)return w.slice(0,q).every(function(b){return b})});if(y)return V=y,"break"},le=ae;le>0;le--){var fe=Y(le);if(fe==="break")break}a.placement!==V&&(a.modifiersData[o]._skip=!0,a.placement=V,a.reset=!0)}}var ps={name:"flip",enabled:!0,phase:"main",fn:fs,requiresIfExists:["offset"],data:{_skip:!1}};function vs(e,a,t){const{disabled:o,appendTo:r,appendToBody:f,openDirection:s}=ve(e),n=dt().proxy,u=t.multiselect,p=t.dropdown,c=j(!1),x=j(null),A=j(null),O=re(()=>r.value||f.value),T=re(()=>s.value==="top"&&A.value==="bottom"||s.value==="bottom"&&A.value!=="top"?"bottom":"top"),C=()=>{c.value||o.value||(c.value=!0,a.emit("open",n),O.value&&ot(()=>{S()}))},P=()=>{c.value&&(c.value=!1,a.emit("close",n))},S=()=>{if(!x.value)return;let g=parseInt(window.getComputedStyle(p.value).borderTopWidth.replace("px","")),v=parseInt(window.getComputedStyle(p.value).borderBottomWidth.replace("px",""));x.value.setOptions(m=>({...m,modifiers:[...m.modifiers,{name:"offset",options:{offset:[0,(T.value==="top"?g:v)*-1]}}]})),x.value.update()},$=g=>{for(;g&&g!==document.body;){if(getComputedStyle(g).position==="fixed")return!0;g=g.parentElement}return!1};return kt(()=>{O.value&&(x.value=rs(u.value,p.value,{strategy:$(u.value)?"fixed":void 0,placement:s.value,modifiers:[os,ps,{name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:g})=>{g.styles.popper.width=`${g.rects.reference.width}px`},effect:({state:g})=>{g.elements.popper.style.width=`${g.elements.reference.offsetWidth}px`}},{name:"toggleClass",enabled:!0,phase:"write",fn({state:g}){A.value=g.placement}}]}))}),za(()=>{!O.value||!x.value||(x.value.destroy(),x.value=null)}),{popper:x,isOpen:c,open:C,close:P,placement:T,updatePopper:S}}function ms(e,a,t){const{searchable:o,disabled:r,clearOnBlur:f}=ve(e),s=t.input,n=t.open,u=t.close,p=t.clearSearch,c=t.isOpen,x=t.wrapper,A=t.tags,O=j(!1),T=j(!1),C=re(()=>o.value||r.value?-1:0),P=()=>{o.value&&s.value.blur(),x.value.blur()},S=()=>{o.value&&!r.value&&s.value.focus()},$=(E=!0)=>{r.value||(O.value=!0,E&&n())},g=()=>{O.value=!1,setTimeout(()=>{O.value||(u(),f.value&&p())},1)};return{tabindex:C,isActive:O,mouseClicked:T,blur:P,focus:S,activate:$,deactivate:g,handleFocusIn:E=>{E.target.closest("[data-tags]")&&E.target.nodeName!=="INPUT"||E.target.closest("[data-clear]")||$(T.value)},handleFocusOut:()=>{g()},handleCaretClick:()=>{g(),P()},handleMousedown:E=>{T.value=!0,c.value&&(E.target.isEqualNode(x.value)||E.target.isEqualNode(A.value))?setTimeout(()=>{g()},0):!c.value&&(document.activeElement.isEqualNode(x.value)||document.activeElement.isEqualNode(s.value))&&$(),setTimeout(()=>{T.value=!1},0)}}}function gs(e,a,t){const{mode:o,addTagOn:r,openDirection:f,searchable:s,showOptions:n,valueProp:u,groups:p,addOptionOn:c,createTag:x,createOption:A,reverse:O}=ve(e),T=dt().proxy,C=t.iv,P=t.update,S=t.deselect,$=t.search,g=t.setPointer,v=t.selectPointer,m=t.backwardPointer,d=t.forwardPointer,L=t.multiselect,E=t.wrapper,V=t.tags,W=t.isOpen,K=t.open,D=t.blur,Q=t.fo,te=re(()=>x.value||A.value||!1),oe=re(()=>r.value!==void 0?r.value:c.value!==void 0?c.value:["enter"]),ee=()=>{o.value==="tags"&&!n.value&&te.value&&s.value&&!p.value&&g(Q.value[Q.value.map(z=>z[u.value]).indexOf($.value)])};return{handleKeydown:z=>{a.emit("keydown",z,T);let ae,Y;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(z.key)!==-1&&o.value==="tags"&&(ae=[...L.value.querySelectorAll("[data-tags] > *")].filter(le=>le!==V.value),Y=ae.findIndex(le=>le===document.activeElement)),z.key){case"Backspace":if(o.value==="single"||s.value&&[null,""].indexOf($.value)===-1||C.value.length===0)return;let le=C.value.filter(fe=>!fe.disabled&&fe.remove!==!1);le.length&&S(le[le.length-1]);break;case"Enter":if(z.preventDefault(),z.keyCode===229)return;if(Y!==-1&&Y!==void 0){P([...C.value].filter((fe,J)=>J!==Y)),Y===ae.length-1&&(ae.length-1?ae[ae.length-2].focus():s.value?V.value.querySelector("input").focus():E.value.focus());return}if(oe.value.indexOf("enter")===-1&&te.value)return;ee(),v();break;case" ":if(!te.value&&!s.value){z.preventDefault(),ee(),v();return}if(!te.value)return!1;if(oe.value.indexOf("space")===-1&&te.value)return;z.preventDefault(),ee(),v();break;case"Tab":case";":case",":if(oe.value.indexOf(z.key.toLowerCase())===-1||!te.value)return;ee(),v(),z.preventDefault();break;case"Escape":D();break;case"ArrowUp":if(z.preventDefault(),!n.value)return;W.value||K(),m();break;case"ArrowDown":if(z.preventDefault(),!n.value)return;W.value||K(),d();break;case"ArrowLeft":if(s.value&&V.value&&V.value.querySelector("input").selectionStart||z.shiftKey||o.value!=="tags"||!C.value||!C.value.length)return;z.preventDefault(),Y===-1?ae[ae.length-1].focus():Y>0&&ae[Y-1].focus();break;case"ArrowRight":if(Y===-1||z.shiftKey||o.value!=="tags"||!C.value||!C.value.length)return;z.preventDefault(),ae.length>Y+1?ae[Y+1].focus():s.value?V.value.querySelector("input").focus():s.value||E.value.focus();break}},handleKeyup:z=>{a.emit("keyup",z,T)},preparePointer:ee}}function ys(e,a,t){const{classes:o,disabled:r,showOptions:f,breakTags:s}=ve(e),n=t.isOpen,u=t.isPointed,p=t.isSelected,c=t.isDisabled,x=t.isActive,A=t.canPointGroups,O=t.resolving,T=t.fo,C=t.placement,P=re(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",wrapper:"multiselect-wrapper",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagWrapper:"multiselect-tag-wrapper",tagWrapperBreak:"multiselect-tag-wrapper-break",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",assist:"multiselect-assistive-text",spacer:"multiselect-spacer",...o.value})),S=re(()=>!!(n.value&&f.value&&(!O.value||O.value&&T.value.length)));return{classList:_(()=>{const g=P.value;return{container:[g.container].concat(r.value?g.containerDisabled:[]).concat(S.value&&C.value==="top"?g.containerOpenTop:[]).concat(S.value&&C.value!=="top"?g.containerOpen:[]).concat(x.value?g.containerActive:[]),wrapper:g.wrapper,spacer:g.spacer,singleLabel:g.singleLabel,singleLabelText:g.singleLabelText,multipleLabel:g.multipleLabel,search:g.search,tags:g.tags,tag:[g.tag].concat(r.value?g.tagDisabled:[]),tagWrapper:[g.tagWrapper,s.value?g.tagWrapperBreak:null],tagDisabled:g.tagDisabled,tagRemove:g.tagRemove,tagRemoveIcon:g.tagRemoveIcon,tagsSearchWrapper:g.tagsSearchWrapper,tagsSearch:g.tagsSearch,tagsSearchCopy:g.tagsSearchCopy,placeholder:g.placeholder,caret:[g.caret].concat(n.value?g.caretOpen:[]),clear:g.clear,clearIcon:g.clearIcon,spinner:g.spinner,inifinite:g.inifinite,inifiniteSpinner:g.inifiniteSpinner,dropdown:[g.dropdown].concat(C.value==="top"?g.dropdownTop:[]).concat(!n.value||!f.value||!S.value?g.dropdownHidden:[]),options:[g.options].concat(C.value==="top"?g.optionsTop:[]),group:g.group,groupLabel:v=>{let m=[g.groupLabel];return u(v)?m.push(p(v)?g.groupLabelSelectedPointed:g.groupLabelPointed):p(v)&&A.value?m.push(c(v)?g.groupLabelSelectedDisabled:g.groupLabelSelected):c(v)&&m.push(g.groupLabelDisabled),A.value&&m.push(g.groupLabelPointable),m},groupOptions:g.groupOptions,option:(v,m)=>{let d=[g.option];return u(v)?d.push(p(v)?g.optionSelectedPointed:g.optionPointed):p(v)?d.push(c(v)?g.optionSelectedDisabled:g.optionSelected):(c(v)||m&&c(m))&&d.push(g.optionDisabled),d},noOptions:g.noOptions,noResults:g.noResults,assist:g.assist,fakeInput:g.fakeInput}}),showDropdown:S}}function hs(e,a,t){const{limit:o,infinite:r}=ve(e),f=t.isOpen,s=t.offset,n=t.search,u=t.pfo,p=t.eo,c=j(null),x=Xe(null),A=re(()=>s.value<u.value.length),O=C=>{const{isIntersecting:P,target:S}=C[0];if(P){const $=S.offsetParent,g=$.scrollTop;s.value+=o.value==-1?10:o.value,ot(()=>{$.scrollTop=g})}},T=()=>{f.value&&s.value<u.value.length?c.value.observe(x.value):!f.value&&c.value&&c.value.disconnect()};return ce(f,()=>{r.value&&T()}),ce(n,()=>{r.value&&(s.value=o.value,T())},{flush:"post"}),ce(p,()=>{r.value&&T()},{immediate:!1,flush:"post"}),kt(()=>{window&&window.IntersectionObserver&&(c.value=new IntersectionObserver(O))}),{hasMore:A,infiniteLoader:x}}function bs(e,a,t){const{placeholder:o,id:r,valueProp:f,label:s,mode:n,groupLabel:u,aria:p,searchable:c}=ve(e),x=t.pointer,A=t.iv,O=t.hasSelected,T=t.multipleLabelText,C=j(null),P=re(()=>`${r.value?r.value+"-":""}assist`),S=re(()=>`${r.value?r.value+"-":""}multiselect-options`),$=re(()=>{if(x.value){let D=r.value?`${r.value}-`:"";return D+=`${x.value.group?"multiselect-group":"multiselect-option"}-`,D+=x.value.group?x.value.index:x.value[f.value],D}}),g=re(()=>o.value),v=re(()=>n.value!=="single"),m=_(()=>n.value==="single"&&O.value?A.value[s.value]:n.value==="multiple"&&O.value?T.value:n.value==="tags"&&O.value?A.value.map(D=>D[s.value]).join(", "):""),d=_(()=>{let D={...p.value};return c.value&&(D["aria-labelledby"]=D["aria-labelledby"]?`${P.value} ${D["aria-labelledby"]}`:P.value,m.value&&D["aria-label"]&&(D["aria-label"]=`${m.value}, ${D["aria-label"]}`)),D}),L=D=>`${r.value?r.value+"-":""}multiselect-option-${D[f.value]}`,E=D=>`${r.value?r.value+"-":""}multiselect-group-${D.index}`,V=D=>`${D}`,W=D=>`${D}`,K=D=>`${D} ❎`;return kt(()=>{if(r.value&&document&&document.querySelector){let D=document.querySelector(`[for="${r.value}"]`);C.value=D?D.innerText:null}}),{arias:d,ariaLabel:m,ariaAssist:P,ariaControls:S,ariaPlaceholder:g,ariaMultiselectable:v,ariaActiveDescendant:$,ariaOptionId:L,ariaOptionLabel:V,ariaGroupId:E,ariaGroupLabel:W,ariaTagLabel:K}}function ws(e,a,t){const{locale:o,fallbackLocale:r}=ve(e);return{localize:s=>!s||typeof s!="object"?s:s&&s[o.value]?s[o.value]:s&&o.value&&s[o.value.toUpperCase()]?s[o.value.toUpperCase()]:s&&s[r.value]?s[r.value]:s&&r.value&&s[r.value.toUpperCase()]?s[r.value.toUpperCase()]:s&&Object.keys(s)[0]?s[Object.keys(s)[0]]:""}}function xs(e,a,t){const o=Xe(null),r=Xe(null),f=Xe(null),s=Xe(null),n=Xe(null);return{multiselect:o,wrapper:r,tags:f,input:s,dropdown:n}}function Os(e,a,t,o={}){return t.forEach(r=>{o={...o,...r(e,a,o)}}),o}var ta={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup","max","create"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1,default:void 0},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:[String,Array],required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:[String,Object],required:!1,default:"The list is empty"},noResultsText:{type:[String,Object],required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1,default:void 0},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},closeOnDeselect:{type:Boolean,required:!1,default:!1},autocomplete:{type:String,required:!1,default:void 0},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function,default:void 0},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})},clearOnBlur:{required:!1,type:Boolean,default:!0},locale:{required:!1,type:String,default:null},fallbackLocale:{required:!1,type:String,default:"en"},searchFilter:{required:!1,type:Function,default:null},allowAbsent:{required:!1,type:Boolean,default:!1},appendToBody:{required:!1,type:Boolean,default:!1},closeOnScroll:{required:!1,type:Boolean,default:!1},breakTags:{required:!1,type:Boolean,default:!1},appendTo:{required:!1,type:String,default:void 0}},setup(e,a){return Os(e,a,[xs,ws,nr,ir,vs,or,lr,ms,cr,hs,fr,gs,ys,bs])},beforeMount(){(this.$root.constructor&&this.$root.constructor.version&&this.$root.constructor.version.match(/^2\./)||this.vueVersionMs===2)&&(this.$options.components.Teleport||(this.$options.components.Teleport={render(){return this.$slots.default?this.$slots.default[0]:null}}))}};const ks=["id","dir"],Ss=["tabindex","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],As=["type","modelValue","value","autocomplete","id","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Cs=["onKeyup","aria-label"],Ls=["onClick"],Es=["type","modelValue","value","id","autocomplete","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Ps=["innerHTML"],Ts=["id"],$s=["id"],Is=["id","aria-label","aria-selected"],Ds=["data-pointed","onMouseenter","onClick"],Bs=["innerHTML"],Ms=["aria-label"],qs=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],Us=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],js=["innerHTML"],Rs=["innerHTML"],Ns=["value"],Vs=["name","value"],Gs=["name","value"],Fs=["id"];function _s(e,a,t,o,r,f){return B(),U("div",{ref:"multiselect",class:G(e.classList.container),id:t.searchable?void 0:t.id,dir:t.rtl?"rtl":void 0,onFocusin:a[12]||(a[12]=(...s)=>e.handleFocusIn&&e.handleFocusIn(...s)),onFocusout:a[13]||(a[13]=(...s)=>e.handleFocusOut&&e.handleFocusOut(...s)),onKeyup:a[14]||(a[14]=(...s)=>e.handleKeyup&&e.handleKeyup(...s)),onKeydown:a[15]||(a[15]=(...s)=>e.handleKeydown&&e.handleKeydown(...s))},[l("div",Ut({class:e.classList.wrapper,onMousedown:a[9]||(a[9]=(...s)=>e.handleMousedown&&e.handleMousedown(...s)),ref:"wrapper",tabindex:e.tabindex,"aria-controls":t.searchable?void 0:e.ariaControls,"aria-placeholder":t.searchable?void 0:e.ariaPlaceholder,"aria-expanded":t.searchable?void 0:e.isOpen,"aria-activedescendant":t.searchable?void 0:e.ariaActiveDescendant,"aria-multiselectable":t.searchable?void 0:e.ariaMultiselectable,role:t.searchable?void 0:"combobox"},t.searchable?{}:e.arias),[N(" Search "),t.mode!=="tags"&&t.searchable&&!t.disabled?(B(),U("input",Ut({key:0,type:t.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:t.autocomplete,id:t.searchable?t.id:void 0,onInput:a[0]||(a[0]=(...s)=>e.handleSearchInput&&e.handleSearchInput(...s)),onKeypress:a[1]||(a[1]=(...s)=>e.handleKeypress&&e.handleKeypress(...s)),onPaste:a[2]||(a[2]=nt((...s)=>e.handlePaste&&e.handlePaste(...s),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...t.attrs,...e.arias}),null,16,As)):N("v-if",!0),N(" Tags (with search) "),t.mode=="tags"?(B(),U("div",{key:1,class:G(e.classList.tags),"data-tags":""},[(B(!0),U(xe,null,Se(e.iv,(s,n,u)=>de(e.$slots,"tag",{option:s,handleTagRemove:e.handleTagRemove,disabled:t.disabled},()=>[(B(),U("span",{class:G([e.classList.tag,s.disabled?e.classList.tagDisabled:null]),tabindex:"-1",onKeyup:da(p=>e.handleTagRemove(s,p),["enter"]),key:u,"aria-label":e.ariaTagLabel(e.localize(s[t.label]))},[l("span",{class:G(e.classList.tagWrapper)},F(e.localize(s[t.label])),3),!t.disabled&&!s.disabled?(B(),U("span",{key:0,class:G(e.classList.tagRemove),onClick:nt(p=>e.handleTagRemove(s,p),["stop"])},[l("span",{class:G(e.classList.tagRemoveIcon)},null,2)],10,Ls)):N("v-if",!0)],42,Cs))])),256)),l("div",{class:G(e.classList.tagsSearchWrapper),ref:"tags"},[N(" Used for measuring search width "),l("span",{class:G(e.classList.tagsSearchCopy)},F(e.search),3),N(" Actual search input "),t.searchable&&!t.disabled?(B(),U("input",Ut({key:0,type:t.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:t.searchable?t.id:void 0,autocomplete:t.autocomplete,onInput:a[3]||(a[3]=(...s)=>e.handleSearchInput&&e.handleSearchInput(...s)),onKeypress:a[4]||(a[4]=(...s)=>e.handleKeypress&&e.handleKeypress(...s)),onPaste:a[5]||(a[5]=nt((...s)=>e.handlePaste&&e.handlePaste(...s),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...t.attrs,...e.arias}),null,16,Es)):N("v-if",!0)],2)],2)):N("v-if",!0),N(" Single label "),t.mode=="single"&&e.hasSelected&&!e.search&&e.iv?de(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[l("div",{class:G(e.classList.singleLabel)},[l("span",{class:G(e.classList.singleLabelText)},F(e.localize(e.iv[t.label])),3)],2)]):N("v-if",!0),N(" Multiple label "),t.mode=="multiple"&&e.hasSelected&&!e.search?de(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[l("div",{class:G(e.classList.multipleLabel),innerHTML:e.multipleLabelText},null,10,Ps)]):N("v-if",!0),N(" Placeholder "),t.placeholder&&!e.hasSelected&&!e.search?de(e.$slots,"placeholder",{key:4},()=>[l("div",{class:G(e.classList.placeholder),"aria-hidden":"true"},F(t.placeholder),3)]):N("v-if",!0),N(" Spinner "),t.loading||e.resolving?de(e.$slots,"spinner",{key:5},()=>[l("span",{class:G(e.classList.spinner),"aria-hidden":"true"},null,2)]):N("v-if",!0),N(" Clear "),e.hasSelected&&!t.disabled&&t.canClear&&!e.busy?de(e.$slots,"clear",{key:6,clear:e.clear},()=>[l("span",{"aria-hidden":"true",tabindex:"0",role:"button","data-clear":"","aria-roledescription":"❎",class:G(e.classList.clear),onClick:a[6]||(a[6]=(...s)=>e.clear&&e.clear(...s)),onKeyup:a[7]||(a[7]=da((...s)=>e.clear&&e.clear(...s),["enter"]))},[l("span",{class:G(e.classList.clearIcon)},null,2)],34)]):N("v-if",!0),N(" Caret "),t.caret&&t.showOptions?de(e.$slots,"caret",{key:7,handleCaretClick:e.handleCaretClick,isOpen:e.isOpen},()=>[l("span",{class:G(e.classList.caret),onClick:a[8]||(a[8]=(...s)=>e.handleCaretClick&&e.handleCaretClick(...s)),"aria-hidden":"true"},null,2)]):N("v-if",!0)],16,Ss),N(" Options "),(B(),Fe(Ka,{to:t.appendTo||"body",disabled:!t.appendToBody&&!t.appendTo},[l("div",{id:t.id?`${t.id}-dropdown`:void 0,class:G(e.classList.dropdown),tabindex:"-1",ref:"dropdown",onFocusin:a[10]||(a[10]=(...s)=>e.handleFocusIn&&e.handleFocusIn(...s)),onFocusout:a[11]||(a[11]=(...s)=>e.handleFocusOut&&e.handleFocusOut(...s))},[de(e.$slots,"beforelist",{options:e.fo}),l("ul",{class:G(e.classList.options),id:e.ariaControls,role:"listbox"},[t.groups?(B(!0),U(xe,{key:0},Se(e.fg,(s,n,u)=>(B(),U("li",{class:G(e.classList.group),key:u,id:e.ariaGroupId(s),"aria-label":e.ariaGroupLabel(e.localize(s[t.groupLabel])),"aria-selected":e.isSelected(s),role:"option"},[s.__CREATE__?N("v-if",!0):(B(),U("div",{key:0,class:G(e.classList.groupLabel(s)),"data-pointed":e.isPointed(s),onMouseenter:p=>e.setPointer(s,n),onClick:p=>e.handleGroupClick(s)},[de(e.$slots,"grouplabel",{group:s,isSelected:e.isSelected,isPointed:e.isPointed},()=>[l("span",{innerHTML:e.localize(s[t.groupLabel])},null,8,Bs)])],42,Ds)),l("ul",{class:G(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(e.localize(s[t.groupLabel])),role:"group"},[(B(!0),U(xe,null,Se(s.__VISIBLE__,(p,c,x)=>(B(),U("li",{class:G(e.classList.option(p,s)),"data-pointed":e.isPointed(p),"data-selected":e.isSelected(p)||void 0,key:x,onMouseenter:A=>e.setPointer(p),onClick:A=>e.handleOptionClick(p),id:e.ariaOptionId(p),"aria-selected":e.isSelected(p),"aria-label":e.ariaOptionLabel(e.localize(p[t.label])),role:"option"},[de(e.$slots,"option",{option:p,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[l("span",null,F(e.localize(p[t.label])),1)])],42,qs))),128))],10,Ms)],10,Is))),128)):(B(!0),U(xe,{key:1},Se(e.fo,(s,n,u)=>(B(),U("li",{class:G(e.classList.option(s)),"data-pointed":e.isPointed(s),"data-selected":e.isSelected(s)||void 0,key:u,onMouseenter:p=>e.setPointer(s),onClick:p=>e.handleOptionClick(s),id:e.ariaOptionId(s),"aria-selected":e.isSelected(s),"aria-label":e.ariaOptionLabel(e.localize(s[t.label])),role:"option"},[de(e.$slots,"option",{option:s,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[l("span",null,F(e.localize(s[t.label])),1)])],42,Us))),128))],10,$s),e.noOptions?de(e.$slots,"nooptions",{key:0},()=>[l("div",{class:G(e.classList.noOptions),innerHTML:e.localize(t.noOptionsText)},null,10,js)]):N("v-if",!0),e.noResults?de(e.$slots,"noresults",{key:1},()=>[l("div",{class:G(e.classList.noResults),innerHTML:e.localize(t.noResultsText)},null,10,Rs)]):N("v-if",!0),t.infinite&&e.hasMore?(B(),U("div",{key:2,class:G(e.classList.inifinite),ref:"infiniteLoader"},[de(e.$slots,"infinite",{},()=>[l("span",{class:G(e.classList.inifiniteSpinner)},null,2)])],2)):N("v-if",!0),de(e.$slots,"afterlist",{options:e.fo})],42,Ts)],8,["to","disabled"])),N(" Hacky input element to show HTML5 required warning "),t.required?(B(),U("input",{key:0,class:G(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,Ns)):N("v-if",!0),N(" Native input support "),t.nativeSupport?(B(),U(xe,{key:1},[t.mode=="single"?(B(),U("input",{key:0,type:"hidden",name:t.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,Vs)):(B(!0),U(xe,{key:1},Se(e.plainValue,(s,n)=>(B(),U("input",{type:"hidden",name:`${t.name}[]`,value:s,key:n},null,8,Gs))),128))],64)):N("v-if",!0),N(" Screen reader assistive text "),t.searchable&&e.hasSelected?(B(),U("div",{key:2,class:G(e.classList.assist),id:e.ariaAssist,"aria-hidden":"true"},F(e.ariaLabel),11,Fs)):N("v-if",!0),N(" Create height for empty input "),l("div",{class:G(e.classList.spacer)},null,2)],42,ks)}ta.render=_s;ta.__file="src/Multiselect.vue";const Ws={class:"fixed inset-0 z-[9999] overflow-y-auto"},Hs={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},zs={class:"flex items-center justify-between mb-6 px-4 pt-5"},Ks={class:"flex items-center justify-between"},Xs={class:"text-sm text-gray-500 mt-1"},Ys={class:"px-4 pb-4 max-h-[70vh] overflow-y-auto"},Js={class:"space-y-3"},Qs={class:"text-sm font-medium text-gray-900 flex items-center border-b border-gray-200 pb-1"},Zs={class:"grid grid-cols-2 gap-3"},el={key:0},tl={for:"password",class:"block text-xs font-medium text-gray-700 mb-1"},al={key:0,class:"text-red-500"},rl=["required","placeholder"],sl={class:"space-y-3"},ll={class:"text-sm font-medium text-gray-900 flex items-center border-b border-gray-200 pb-1"},nl={class:"grid grid-cols-2 gap-3"},ol={class:"flex items-center"},il={class:"space-y-3"},ul={class:"text-sm font-medium text-gray-900 flex items-center border-b border-gray-200 pb-1"},dl={class:"flex justify-end space-x-3 px-4 py-3 bg-gray-50 border-t border-gray-200"},cl=St({__name:"UserModal",props:{show:{type:Boolean},user:{},groups:{}},emits:["close","save"],setup(e,{emit:a}){const t=e,o=a,r=ba({username:"",fullName:"",email:"",phone:"",type:"local",password:"",role:"Dashboard Viewer",groupIds:[],isActive:!0});ce(()=>t.user,s=>{s?(r.username=s.username,r.fullName=s.fullName||"",r.email=s.email||"",r.phone=s.phone||"",r.type=s.type,r.password="",r.role=s.role,r.groupIds=[...s.groupIds],r.isActive=s.isActive):(r.username="",r.fullName="",r.email="",r.phone="",r.type="local",r.password="",r.role="Dashboard Viewer",r.groupIds=[],r.isActive=!0)},{immediate:!0});const f=()=>{const s={username:r.username,fullName:r.fullName||void 0,email:r.email||void 0,phone:r.phone||void 0,type:r.type,role:r.role,groupIds:r.groupIds,isActive:r.isActive};r.password&&r.type==="local"&&(s.password=r.password),o("save",s)};return(s,n)=>(B(),Fe(M(Kt),{show:s.show,as:"template"},{default:ie(()=>[R(M(Ft),{onClose:n[11]||(n[11]=u=>s.$emit("close")),class:"relative"},{default:ie(()=>[R(M(Ye),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ie(()=>n[12]||(n[12]=[l("div",{class:"fixed inset-0 z-[9999] bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])),_:1,__:[12]}),l("div",Ws,[l("div",Hs,[R(M(Ye),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:ie(()=>[R(M(_t),{class:"relative transform overflow-hidden rounded-xl bg-white text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:ie(()=>[l("div",zs,[l("div",Ks,[l("div",null,[R(M(Wt),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:ie(()=>[ne(F(s.user?"Edit User":"Create User"),1)]),_:1}),l("p",Xs,F(s.user?"Update user information and permissions":"Add a new user to the system"),1)])]),l("button",{onClick:n[0]||(n[0]=u=>s.$emit("close")),class:"text-gray-400 hover:text-gray-600"},[R(M(Ht),{class:"h-6 w-6"})])]),l("div",Ys,[l("form",{onSubmit:nt(f,["prevent"]),class:"space-y-4"},[l("div",Js,[l("h4",Qs,[R(M(lt),{class:"h-4 w-4 mr-2 text-primary-600"}),n[13]||(n[13]=ne(" Basic Information "))]),l("div",Zs,[l("div",null,[n[14]||(n[14]=l("label",{for:"username",class:"block text-xs font-medium text-gray-700 mb-1"},[ne(" Username "),l("span",{class:"text-red-500"},"*")],-1)),ue(l("input",{id:"username","onUpdate:modelValue":n[1]||(n[1]=u=>r.username=u),type:"text",required:"",class:"block w-full px-3 py-2 rounded-md border border-gray-300 shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-200 transition-all duration-200 text-sm",placeholder:"Username"},null,512),[[Ae,r.username]])]),l("div",null,[n[15]||(n[15]=l("label",{for:"fullName",class:"block text-xs font-medium text-gray-700 mb-1"}," Full Name ",-1)),ue(l("input",{id:"fullName","onUpdate:modelValue":n[2]||(n[2]=u=>r.fullName=u),type:"text",class:"block w-full px-3 py-2 rounded-md border border-gray-300 shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-200 transition-all duration-200 text-sm",placeholder:"Full name"},null,512),[[Ae,r.fullName]])]),l("div",null,[n[16]||(n[16]=l("label",{for:"email",class:"block text-xs font-medium text-gray-700 mb-1"}," Email ",-1)),ue(l("input",{id:"email","onUpdate:modelValue":n[3]||(n[3]=u=>r.email=u),type:"email",class:"block w-full px-3 py-2 rounded-md border border-gray-300 shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-200 transition-all duration-200 text-sm",placeholder:"Email address"},null,512),[[Ae,r.email]])]),l("div",null,[n[17]||(n[17]=l("label",{for:"phone",class:"block text-xs font-medium text-gray-700 mb-1"}," Phone ",-1)),ue(l("input",{id:"phone","onUpdate:modelValue":n[4]||(n[4]=u=>r.phone=u),type:"tel",class:"block w-full px-3 py-2 rounded-md border border-gray-300 shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-200 transition-all duration-200 text-sm",placeholder:"Phone number"},null,512),[[Ae,r.phone]])]),r.type==="local"&&!s.user?(B(),U("div",el,[l("label",tl,[n[18]||(n[18]=ne(" Password ")),s.user?N("",!0):(B(),U("span",al,"*"))]),ue(l("input",{id:"password","onUpdate:modelValue":n[5]||(n[5]=u=>r.password=u),type:"password",required:!s.user&&r.type==="local",class:"block w-full px-3 py-2 rounded-md border border-gray-300 shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-200 transition-all duration-200 text-sm",placeholder:s.user?"Leave blank to keep current":"Enter password"},null,8,rl),[[Ae,r.password]])])):N("",!0)])]),l("div",sl,[l("h4",ll,[R(M(Ya),{class:"h-4 w-4 mr-2 text-blue-600"}),n[19]||(n[19]=ne(" Account Settings "))]),l("div",nl,[l("div",null,[n[21]||(n[21]=l("label",{for:"type",class:"block text-xs font-medium text-gray-700 mb-1"},[ne(" Type "),l("span",{class:"text-red-500"},"*")],-1)),ue(l("select",{id:"type","onUpdate:modelValue":n[6]||(n[6]=u=>r.type=u),required:"",class:"block w-full px-3 py-2 rounded-md border border-gray-300 shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-200 transition-all duration-200 text-sm bg-white"},n[20]||(n[20]=[l("option",{value:"local"},"Local",-1),l("option",{value:"sso"},"SSO",-1)]),512),[[xt,r.type]])]),l("div",null,[n[23]||(n[23]=l("label",{for:"role",class:"block text-xs font-medium text-gray-700 mb-1"},[ne(" Role "),l("span",{class:"text-red-500"},"*")],-1)),ue(l("select",{id:"role","onUpdate:modelValue":n[7]||(n[7]=u=>r.role=u),required:"",class:"block w-full px-3 py-2 rounded-md border border-gray-300 shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-200 transition-all duration-200 text-sm bg-white"},n[22]||(n[22]=[l("option",{value:"Admin"},"Admin",-1),l("option",{value:"Dashboard Designer"},"Designer",-1),l("option",{value:"Dashboard Viewer"},"Viewer",-1)]),512),[[xt,r.role]])])]),l("div",null,[l("label",ol,[ue(l("input",{"onUpdate:modelValue":n[8]||(n[8]=u=>r.isActive=u),type:"checkbox",class:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 h-4 w-4"},null,512),[[zt,r.isActive]]),n[24]||(n[24]=l("span",{class:"ml-2 text-sm text-gray-700"},"Active account",-1))])])]),l("div",il,[l("h4",ul,[R(M(ht),{class:"h-4 w-4 mr-2 text-green-600"}),n[25]||(n[25]=ne(" Groups "))]),l("div",null,[n[26]||(n[26]=l("label",{for:"groups",class:"block text-xs font-medium text-gray-700 mb-1"}," Select Groups ",-1)),R(M(ta),{id:"groups",modelValue:r.groupIds,"onUpdate:modelValue":n[9]||(n[9]=u=>r.groupIds=u),options:s.groups,mode:"tags",label:"name",valueProp:"id",placeholder:"Select groups",searchable:"","append-to-body":!1,dropdownClass:"z-[10001]",classes:{tag:"bg-blue-100 text-blue-800 border border-blue-300 rounded-md px-2 py-1 text-sm flex items-center space-x-1",tagRemove:"hover:text-red-600 cursor-pointer ml-1",option:"text-sm px-3 py-2",search:"text-xs placeholder-gray-400"}},null,8,["modelValue","options"]),n[27]||(n[27]=l("p",{class:"mt-1 text-xs text-gray-500"},"Type to search and select multiple groups",-1))])])],32)]),l("div",dl,[l("button",{type:"button",onClick:n[10]||(n[10]=u=>s.$emit("close")),class:"inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200"}," Cancel "),l("button",{type:"submit",onClick:f,class:"inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200 shadow-sm"},[s.user?(B(),Fe(M(Rt),{key:1,class:"h-4 w-4 mr-1"})):(B(),Fe(M(sr),{key:0,class:"h-4 w-4 mr-1"})),ne(" "+F(s.user?"Update":"Create"),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),fl=Ja(cl,[["__scopeId","data-v-17dc6840"]]),pl={class:"fixed inset-0 z-[9999] overflow-y-auto"},vl={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},ml={class:"flex items-center justify-between mb-6 px-4 pt-5"},gl={class:"text-sm text-gray-500 mt-1"},yl={class:"px-4 pb-4 max-h-[70vh] overflow-y-auto"},hl={class:"space-y-3"},bl={class:"flex items-center"},wl={class:"flex justify-end space-x-3 px-4 py-3 bg-gray-50 border-t border-gray-200"},xl=St({__name:"GroupModal",props:{show:{type:Boolean},group:{},users:{}},emits:["close","save"],setup(e,{emit:a}){const t=e,o=a,r=j(""),f=ba({name:"",description:"",userIds:[],isActive:!0});ce(()=>t.group,n=>{n?(f.name=n.name,f.description=n.description||"",f.userIds=[...n.userIds],f.isActive=n.isActive):(f.name="",f.description="",f.userIds=[],f.isActive=!0),r.value=""},{immediate:!0});const s=()=>{const n={name:f.name,description:f.description||void 0,userIds:f.userIds,isActive:f.isActive};o("save",n)};return(n,u)=>(B(),Fe(M(Kt),{show:n.show,as:"template"},{default:ie(()=>[R(M(Ft),{onClose:u[5]||(u[5]=p=>n.$emit("close")),class:"relative"},{default:ie(()=>[R(M(Ye),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ie(()=>u[6]||(u[6]=[l("div",{class:"fixed inset-0 z-[9999] bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])),_:1,__:[6]}),l("div",pl,[l("div",vl,[R(M(Ye),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:ie(()=>[R(M(_t),{class:"relative transform overflow-hidden rounded-xl bg-white text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:ie(()=>[l("div",ml,[l("div",null,[R(M(Wt),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:ie(()=>[ne(F(n.group?"Edit Group":"Create Group"),1)]),_:1}),l("p",gl,F(n.group?"Update group information":"Add a new user group to the system"),1)]),l("button",{onClick:u[0]||(u[0]=p=>n.$emit("close")),class:"text-gray-400 hover:text-gray-600"},[R(M(Ht),{class:"h-6 w-6"})])]),l("div",yl,[l("form",{onSubmit:nt(s,["prevent"]),class:"space-y-4"},[l("div",hl,[l("div",null,[u[7]||(u[7]=l("label",{for:"name",class:"block text-xs font-medium text-gray-700 mb-1"},[ne(" Group Name "),l("span",{class:"text-red-500"},"*")],-1)),ue(l("input",{id:"name","onUpdate:modelValue":u[1]||(u[1]=p=>f.name=p),type:"text",required:"",class:"block w-full px-3 py-2 rounded-md border border-gray-300 shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-200 transition-all duration-200 text-sm",placeholder:"Enter group name"},null,512),[[Ae,f.name]])]),l("div",null,[u[8]||(u[8]=l("label",{for:"description",class:"block text-xs font-medium text-gray-700 mb-1"}," Description ",-1)),ue(l("textarea",{id:"description","onUpdate:modelValue":u[2]||(u[2]=p=>f.description=p),rows:"3",class:"block w-full px-3 py-2 rounded-md border border-gray-300 shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-primary-200 transition-all duration-200 text-sm resize-none",placeholder:"Enter group description"},null,512),[[Ae,f.description]])]),l("div",null,[l("label",bl,[ue(l("input",{"onUpdate:modelValue":u[3]||(u[3]=p=>f.isActive=p),type:"checkbox",class:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 h-4 w-4"},null,512),[[zt,f.isActive]]),u[9]||(u[9]=l("span",{class:"ml-2 text-sm text-gray-700"},"Active group",-1))])])])],32)]),l("div",wl,[l("button",{type:"button",onClick:u[4]||(u[4]=p=>n.$emit("close")),class:"inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200"}," Cancel "),l("button",{type:"submit",onClick:s,class:"inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200 shadow-sm"},F(n.group?"Update Group":"Create Group"),1)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Ol={class:"fixed inset-0 z-[9999] overflow-y-auto"},kl={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Sl={class:"flex items-center justify-between mb-6 px-4 pt-5"},Al={class:"px-4 pb-4 max-h-[70vh] overflow-y-auto"},Cl={class:"relative mb-4"},Ll={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},El={class:"mb-2 text-sm text-gray-700 font-medium"},Pl={class:"max-h-64 overflow-y-auto border border-gray-200 rounded-md bg-white"},Tl={key:0,class:"p-3 text-center text-gray-500 text-sm"},$l=["value"],Il={class:"ml-2 flex-1 min-w-0"},Dl={class:"text-sm font-medium text-gray-900 truncate"},Bl={class:"text-xs text-gray-500 truncate"},Ml={class:"flex justify-end space-x-3 px-4 py-3 bg-gray-50 border-t border-gray-200"},ql=St({__name:"GroupMember",props:{show:{type:Boolean},group:{},users:{}},emits:["close","save"],setup(e,{emit:a}){const t=e,o=a,r=j(""),f=j([]);ce(()=>t.group,u=>{u?f.value=[...u.userIds]:f.value=[],r.value=""},{immediate:!0});const s=_(()=>{if(!r.value)return t.users;const u=r.value.toLowerCase();return t.users.filter(p=>p.username.toLowerCase().includes(u)||p.fullName&&p.fullName.toLowerCase().includes(u)||p.email&&p.email.toLowerCase().includes(u)||p.role.toLowerCase().includes(u))}),n=()=>{o("save",f.value)};return(u,p)=>(B(),Fe(M(Kt),{show:u.show,as:"template"},{default:ie(()=>[R(M(Ft),{onClose:p[4]||(p[4]=c=>u.$emit("close")),class:"relative"},{default:ie(()=>[R(M(Ye),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ie(()=>p[5]||(p[5]=[l("div",{class:"fixed inset-0 z-[9999] bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])),_:1,__:[5]}),l("div",Ol,[l("div",kl,[R(M(Ye),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:ie(()=>[R(M(_t),{class:"relative transform overflow-hidden rounded-xl bg-white text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:ie(()=>[l("div",Sl,[l("div",null,[R(M(Wt),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:ie(()=>{var c;return[ne(" Manage Members for "+F((c=u.group)==null?void 0:c.name),1)]}),_:1}),p[6]||(p[6]=l("p",{class:"text-sm text-gray-500 mt-1"}," Add or remove users from this group. ",-1))]),l("button",{onClick:p[0]||(p[0]=c=>u.$emit("close")),class:"text-gray-400 hover:text-gray-600"},[R(M(Ht),{class:"h-6 w-6"})])]),l("div",Al,[l("div",Cl,[l("div",Ll,[R(M(Nt),{class:"h-5 w-5 text-gray-400"})]),ue(l("input",{"onUpdate:modelValue":p[1]||(p[1]=c=>r.value=c),type:"text",placeholder:"Search users...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"},null,512),[[Ae,r.value]])]),l("div",El,F(f.value.length)+" selected",1),l("div",Pl,[s.value.length===0?(B(),U("div",Tl,F(r.value?"No users found":"No users available"),1)):N("",!0),(B(!0),U(xe,null,Se(s.value,c=>(B(),U("label",{key:c.id,class:"flex items-center p-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0"},[ue(l("input",{type:"checkbox",value:c.id,"onUpdate:modelValue":p[2]||(p[2]=x=>f.value=x),class:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 h-4 w-4"},null,8,$l),[[zt,f.value]]),l("div",Il,[l("div",Dl,F(c.fullName||c.username),1),l("div",Bl,F(c.role)+" • "+F(c.email||c.username),1)]),l("span",{class:G(["inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium ml-2",c.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},F(c.isActive?"Active":"Inactive"),3)]))),128))])]),l("div",Ml,[l("button",{type:"button",onClick:p[3]||(p[3]=c=>u.$emit("close")),class:"inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200"}," Cancel "),l("button",{type:"button",onClick:n,class:"inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200 shadow-sm"}," Save ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Ul={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},jl={class:"px-4 py-6 sm:px-0"},Rl={class:"sm:flex sm:items-center"},Nl={class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none space-x-3"},Vl={class:"mt-8"},Gl={class:"border-b border-gray-200"},Fl={class:"-mb-px flex space-x-8","aria-label":"Tabs"},_l=["onClick"],Wl={key:0,class:"mt-6"},Hl={class:"bg-white shadow rounded-lg mb-6"},zl={class:"px-6 py-4 border-b border-gray-200"},Kl={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Xl={class:"flex-1 max-w-lg"},Yl={class:"relative"},Jl={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Ql={class:"flex items-center space-x-4"},Zl={class:"bg-white shadow rounded-lg overflow-hidden"},en={key:0,class:"text-center py-12"},tn={class:"mt-1 text-sm text-gray-500"},an={key:1,class:"overflow-x-auto"},rn={class:"min-w-full divide-y divide-gray-200"},sn={class:"bg-white divide-y divide-gray-200"},ln={class:"px-6 py-4 whitespace-nowrap"},nn={class:"flex items-center"},on={class:"flex-shrink-0 h-10 w-10"},un={class:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center"},dn={class:"ml-4"},cn={class:"text-sm font-medium text-gray-900"},fn={class:"text-sm text-gray-500"},pn={class:"px-6 py-4 whitespace-nowrap"},vn={class:"px-6 py-4 whitespace-nowrap"},mn={class:"px-6 py-4 whitespace-nowrap"},gn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},yn={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},hn={class:"flex items-center justify-end space-x-2"},bn=["onClick"],wn=["onClick"],xn={key:2,class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},On={class:"flex-1 flex justify-between sm:hidden"},kn=["disabled"],Sn=["disabled"],An={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Cn={class:"text-sm text-gray-700"},Ln={class:"font-medium"},En={class:"font-medium"},Pn={class:"font-medium"},Tn={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},$n=["disabled"],In=["onClick"],Dn=["disabled"],Bn={key:1,class:"mt-6"},Mn={class:"bg-white shadow rounded-lg mb-6"},qn={class:"px-6 py-4 border-b border-gray-200"},Un={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},jn={class:"flex-1 max-w-lg"},Rn={class:"relative"},Nn={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Vn={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},Gn={class:"p-6"},Fn={class:"flex items-center justify-between"},_n={class:"flex items-center"},Wn={class:"flex-shrink-0"},Hn={class:"ml-4"},zn={class:"text-lg font-medium text-gray-900"},Kn={class:"text-sm text-gray-500"},Xn={class:"flex items-center space-x-2"},Yn=["onClick"],Jn=["onClick"],Qn=["onClick"],Zn={class:"mt-4"},eo={class:"text-sm text-gray-500"},to={class:"mt-4"},ao={class:"text-sm text-gray-600"},ro={class:"mt-4"},so={class:"flex items-center justify-between"},oo=St({__name:"UserManagement",setup(e){const a=rr(),t=j("users"),o=_(()=>[{id:"users",name:"Users",icon:lt,count:a.activeUsers.length},{id:"groups",name:"Groups",icon:ht,count:a.activeGroups.length}]),r=j(""),f=j(""),s=j(""),n=j(1),u=j(10),p=j(!1),c=j(!1),x=j(null),A=j(""),O=j(!1),T=j(!1),C=j(null),P=j(!1),S=j(""),$=j(""),g=j(null),v=j(!1),m=j(null),d=_(()=>{let w=a.users;if(r.value){const b=r.value.toLowerCase();w=w.filter(k=>k.username.toLowerCase().includes(b)||k.email&&k.email.toLowerCase().includes(b)||k.fullName&&k.fullName.toLowerCase().includes(b))}return f.value&&(w=w.filter(b=>b.role===f.value)),s.value&&(w=w.filter(b=>b.type===s.value)),w}),L=_(()=>Math.ceil(d.value.length/u.value)),E=_(()=>{const w=(n.value-1)*u.value,b=w+u.value;return d.value.slice(w,b)}),V=_(()=>{const w=[],b=L.value,k=n.value;if(b<=7)for(let Z=1;Z<=b;Z++)w.push(Z);else if(k<=4){for(let Z=1;Z<=5;Z++)w.push(Z);w.push("..."),w.push(b)}else if(k>=b-3){w.push(1),w.push("...");for(let Z=b-4;Z<=b;Z++)w.push(Z)}else{w.push(1),w.push("...");for(let Z=k-1;Z<=k+1;Z++)w.push(Z);w.push("..."),w.push(b)}return w}),W=_(()=>{let w=a.groups;if(A.value){const b=A.value.toLowerCase();w=w.filter(k=>k.name.toLowerCase().includes(b)||k.description&&k.description.toLowerCase().includes(b))}return w}),K=w=>({Admin:"bg-red-100 text-red-800","Dashboard Designer":"bg-blue-100 text-blue-800","Dashboard Viewer":"bg-green-100 text-green-800"})[w]||"bg-gray-100 text-gray-800",D=w=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(w),Q=w=>{typeof w=="number"&&w>=1&&w<=L.value&&(n.value=w)},te=()=>{n.value<L.value&&n.value++},oe=()=>{n.value>1&&n.value--},ee=w=>{x.value=w,c.value=!0},X=w=>{S.value="Delete User",$.value=`Are you sure you want to delete user "${w.username}"? This action cannot be undone.`,g.value=()=>a.deleteUser(w.id),P.value=!0},me=()=>{p.value=!1,c.value=!1,x.value=null},z=async w=>{try{x.value?await a.updateUser(x.value.id,w):await a.createUser(w),me()}catch(b){console.error("Failed to save user:",b)}},ae=w=>{C.value=w,T.value=!0},Y=w=>{S.value="Delete Group",$.value=`Are you sure you want to delete group "${w.name}"? This action cannot be undone.`,g.value=()=>a.deleteGroup(w.id),P.value=!0},le=()=>{O.value=!1,T.value=!1,C.value=null},fe=async w=>{try{C.value?await a.updateGroup(C.value.id,w):await a.createGroup(w),le()}catch(b){console.error("Failed to save group:",b)}},J=()=>{g.value&&(g.value(),P.value=!1,g.value=null)},q=w=>{m.value=w,v.value=!0},y=()=>{v.value=!1,m.value=null},I=w=>{m.value&&(m.value.userIds=[...w]),y()};return kt(()=>{}),(w,b)=>(B(),U("div",Ul,[l("div",jl,[l("div",Rl,[b[9]||(b[9]=l("div",{class:"sm:flex-auto"},[l("h1",{class:"text-2xl font-bold text-gray-900"},"User & Group Management"),l("p",{class:"mt-2 text-sm text-gray-700"}," Manage users and user groups for the BI Dashboard system. ")],-1)),l("div",Nl,[l("button",{type:"button",onClick:b[0]||(b[0]=k=>O.value=!0),class:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"},[R(M(ht),{class:"w-4 h-4 mr-2"}),b[7]||(b[7]=ne(" Create Group "))]),l("button",{type:"button",onClick:b[1]||(b[1]=k=>p.value=!0),class:"inline-flex items-center justify-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"},[R(M(Qa),{class:"w-4 h-4 mr-2"}),b[8]||(b[8]=ne(" Create User "))])])]),l("div",Vl,[l("div",Gl,[l("nav",Fl,[(B(!0),U(xe,null,Se(o.value,k=>(B(),U("button",{key:k.id,onClick:Z=>t.value=k.id,class:G([t.value===k.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"])},[(B(),Fe(Za(k.icon),{class:"h-5 w-5 mr-2 inline"})),ne(" "+F(k.name)+" ",1),k.count!==void 0?(B(),U("span",{key:0,class:G([t.value===k.id?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-900","ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium"])},F(k.count),3)):N("",!0)],10,_l))),128))])])]),t.value==="users"?(B(),U("div",Wl,[l("div",Hl,[l("div",zl,[l("div",Kl,[l("div",Xl,[l("div",Yl,[l("div",Jl,[R(M(Nt),{class:"h-5 w-5 text-gray-400"})]),ue(l("input",{"onUpdate:modelValue":b[2]||(b[2]=k=>r.value=k),type:"text",placeholder:"Search users by username, email, or full name...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"},null,512),[[Ae,r.value]])])]),l("div",Ql,[ue(l("select",{"onUpdate:modelValue":b[3]||(b[3]=k=>f.value=k),class:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md"},b[10]||(b[10]=[l("option",{value:""},"All Roles",-1),l("option",{value:"Admin"},"Admin",-1),l("option",{value:"Dashboard Designer"},"Dashboard Designer",-1),l("option",{value:"Dashboard Viewer"},"Dashboard Viewer",-1)]),512),[[xt,f.value]]),ue(l("select",{"onUpdate:modelValue":b[4]||(b[4]=k=>s.value=k),class:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md"},b[11]||(b[11]=[l("option",{value:""},"All Types",-1),l("option",{value:"local"},"Local",-1),l("option",{value:"sso"},"SSO",-1)]),512),[[xt,s.value]])])])])]),l("div",Zl,[d.value.length===0?(B(),U("div",en,[R(M(lt),{class:"mx-auto h-12 w-12 text-gray-400"}),b[12]||(b[12]=l("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No users found",-1)),l("p",tn,F(r.value?"Try adjusting your search terms.":"Get started by creating your first user."),1)])):(B(),U("div",an,[l("table",rn,[b[13]||(b[13]=l("thead",{class:"bg-gray-50"},[l("tr",null,[l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," User "),l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Role "),l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Last Login "),l("th",{scope:"col",class:"relative px-6 py-3"},[l("span",{class:"sr-only"},"Actions")])])],-1)),l("tbody",sn,[(B(!0),U(xe,null,Se(E.value,k=>(B(),U("tr",{key:k.id,class:"hover:bg-gray-50"},[l("td",ln,[l("div",nn,[l("div",on,[l("div",un,[R(M(lt),{class:"h-6 w-6 text-primary-600"})])]),l("div",dn,[l("div",cn,F(k.username),1),l("div",fn,F(k.fullName||k.username),1)])])]),l("td",pn,[l("span",{class:G(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",K(k.role)])},F(k.role),3)]),l("td",vn,[l("span",{class:G(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",k.type==="local"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"])},F(k.type.toUpperCase()),3)]),l("td",mn,[l("span",{class:G(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",k.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},F(k.isActive?"Active":"Inactive"),3)]),l("td",gn,F(k.lastLogin?D(k.lastLogin):"Never"),1),l("td",yn,[l("div",hn,[l("button",{onClick:Z=>ee(k),class:"text-primary-600 hover:text-primary-900",title:"Edit User"},[R(M(Rt),{class:"h-5 w-5"})],8,bn),l("button",{onClick:Z=>X(k),class:"text-red-600 hover:text-red-900",title:"Delete User"},[R(M(ca),{class:"h-5 w-5"})],8,wn)])])]))),128))])])])),L.value>1?(B(),U("div",xn,[l("div",On,[l("button",{onClick:oe,disabled:n.value===1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,kn),l("button",{onClick:te,disabled:n.value===L.value,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,Sn)]),l("div",An,[l("div",null,[l("p",Cn,[b[14]||(b[14]=ne(" Showing ")),l("span",Ln,F((n.value-1)*u.value+1),1),b[15]||(b[15]=ne(" to ")),l("span",En,F(Math.min(n.value*u.value,d.value.length)),1),b[16]||(b[16]=ne(" of ")),l("span",Pn,F(d.value.length),1),b[17]||(b[17]=ne(" results "))])]),l("div",null,[l("nav",Tn,[l("button",{onClick:oe,disabled:n.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[R(M(er),{class:"h-5 w-5"})],8,$n),(B(!0),U(xe,null,Se(V.value,k=>(B(),U("button",{key:k,onClick:Z=>Q(k),class:G(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",k===n.value?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"])},F(k),11,In))),128)),l("button",{onClick:te,disabled:n.value===L.value,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[R(M(tr),{class:"h-5 w-5"})],8,Dn)])])])])):N("",!0)])])):N("",!0),t.value==="groups"?(B(),U("div",Bn,[l("div",Mn,[l("div",qn,[l("div",Un,[l("div",jn,[l("div",Rn,[l("div",Nn,[R(M(Nt),{class:"h-5 w-5 text-gray-400"})]),ue(l("input",{"onUpdate:modelValue":b[5]||(b[5]=k=>A.value=k),type:"text",placeholder:"Search groups by name or description...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"},null,512),[[Ae,A.value]])])])])])]),l("div",Vn,[(B(!0),U(xe,null,Se(W.value,k=>(B(),U("div",{key:k.id,class:"bg-white overflow-hidden shadow rounded-lg hover:shadow-md transition-shadow duration-200"},[l("div",Gn,[l("div",Fn,[l("div",_n,[l("div",Wn,[R(M(ht),{class:"h-8 w-8 text-primary-600"})]),l("div",Hn,[l("h3",zn,F(k.name),1),l("p",Kn,F(k.userIds.length)+" members",1)])]),l("div",Xn,[l("button",{onClick:Z=>ae(k),class:"text-primary-600 hover:text-primary-900",title:"Edit Group"},[R(M(Rt),{class:"h-5 w-5"})],8,Yn),l("button",{onClick:Z=>Y(k),class:"text-red-600 hover:text-red-900",title:"Delete Group"},[R(M(ca),{class:"h-5 w-5"})],8,Jn),l("button",{onClick:Z=>q(k),class:"text-blue-600 hover:text-blue-900",title:"Manage Members"},[R(M(lt),{class:"h-5 w-5"})],8,Qn)])]),l("div",Zn,[b[18]||(b[18]=l("p",{class:"text-sm font-medium text-gray-700"},"Members",-1)),l("p",eo,F(k.userIds.length)+" members",1)]),l("div",to,[b[19]||(b[19]=l("p",{class:"text-sm font-medium text-gray-700"},"Description",-1)),l("p",ao,F(k.description||"No description"),1)]),l("div",ro,[l("div",so,[b[20]||(b[20]=l("span",{class:"text-sm font-medium text-gray-700"},"Status",-1)),l("span",{class:G(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",k.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},F(k.isActive?"Active":"Inactive"),3)])])])]))),128))])])):N("",!0)]),R(fl,{show:p.value||c.value,user:x.value,groups:M(a).groups,onClose:me,onSave:z},null,8,["show","user","groups"]),R(xl,{show:O.value||T.value,group:C.value,users:M(a).users,onClose:le,onSave:fe},null,8,["show","group","users"]),R(ar,{show:P.value,title:S.value,message:$.value,type:"danger","confirm-text":"Delete",onClose:b[6]||(b[6]=k=>P.value=!1),onConfirm:J},null,8,["show","title","message"]),R(ql,{show:v.value,group:m.value,users:M(a).users,onClose:y,onSave:I},null,8,["show","group","users"])]))}});export{oo as default};
